<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>BitsSharp &mdash; PsychoPy v3.0</title>
    <link rel="stylesheet" href="../../../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../../',
        VERSION:     '3.0.0b2',
        COLLAPSE_MODINDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../_static/doctools.js"></script>
    <link rel="shortcut icon" href="../../../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="top" title="PsychoPy v3.0" href="../../../index.html" />
    <link rel="up" title="Cambridge Research Systems Ltd." href="../crs.html" />
    <link rel="next" title="ColorCAL" href="ColorCAL.html" />
    <link rel="prev" title="BitsPlusPlus" href="BitsPlusPlus.html" /> 
  </head>
  <body>


<div id="header"  style="background-color: white">
<table width="100%" cellpadding="10">
<tr><td style="text-align:left;vertical-align:middle">
<a href='http://www.psychopy.org'><img src="../../../_static/psychopyDocBanner2.gif" alt="PsychoPy logo" /></a>
</td><td style="text-align:right;vertical-align:middle">
<a href='http://www.nottingham.ac.uk'><img src=../../../_static/UoN_Supported_RGBsm.png alt="University of Nottingham" /></a>
</td></table>
</div>

    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="ColorCAL.html" title="ColorCAL"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="BitsPlusPlus.html" title="BitsPlusPlus"
             accesskey="P">previous</a> |</li>
        <li><a href="../../../index.html">PsychoPy</a> &raquo;</li>
          <li><a href="../../../documentation.html" >Documentation</a> &raquo;</li>
          <li><a href="../../api.html" >Reference Manual (API)</a> &raquo;</li>
          <li><a href="../../hardware.html" ><code class="docutils literal notranslate"><span class="pre">psychopy.hardware</span></code> - hardware interfaces</a> &raquo;</li>
          <li><a href="../crs.html" accesskey="U">Cambridge Research Systems Ltd.</a> &raquo;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <h3><a href="../../../index.html">Table Of Contents</a></h3>
            <ul>
<li><a class="reference internal" href="#"><code class="docutils literal notranslate"><span class="pre">BitsSharp</span></code></a><ul>
<li><a class="reference internal" href="#attributes">Attributes</a></li>
<li><a class="reference internal" href="#details">Details</a></li>
</ul>
</li>
</ul>

            <h4>Previous topic</h4>
            <p class="topless"><a href="BitsPlusPlus.html"
                                  title="previous chapter"><code class="docutils literal notranslate"><span class="pre">BitsPlusPlus</span></code></a></p>
            <h4>Next topic</h4>
            <p class="topless"><a href="ColorCAL.html"
                                  title="next chapter"><code class="docutils literal notranslate"><span class="pre">ColorCAL</span></code></a></p>
            <h3>This Page</h3>
            <ul class="this-page-menu">
              <li><a href="../../../_sources/api/hardware/crs/BitsSharp.rst.txt"
                     rel="nofollow">Show Source</a></li>
            </ul>

            <h3>Quick links</h3>
            <ul>
            <li><a href="http://psychopy.org/installation.html"><strong>Download</strong></a></li>
            <li><a href="http://discourse.psychopy.org">Forum</a></li>
            <li><a href="http://twitter.com/psychopy">Twitter</a></li>
            </ul>

            <!-- facebook like -->
            <div id="fb-root"></div><script src="http://connect.facebook.net/en_US/all.js#appId=122767831154831&amp;xfbml=1"></script>
            <fb:like href="http://www.facebook.com/pages/PsychoPy/140222406067597" send="false" layout="button_count" width="300" show_faces="false" action="like" font=""></fb:like>

            <!-- google +1 -->
            <!-- Place this tag where you want the +1 button to render -->
            <g:plusone count="false" href="http://www.psychopy.org"></g:plusone>
            <!-- Place this tag after the last plusone tag -->
            <script type="text/javascript">
              window.___gcfg = {lang: 'en-GB'};
              (function() {
                var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
                po.src = 'https://apis.google.com/js/plusone.js';
                var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
              })();
            </script>

          <div id="searchbox" style="display: none">
            <h3>Searches</h3>
            <form action="http://www.google.com/cse" id="cse-search-box">
                <input type="hidden" name="cx" value="partner-pub-0861691574026297:eyw5n7-ugep" />
                <input type="hidden" name="ie" value="ISO-8859-1" />
                <input type="text" name="q" size="20" />
                <input type="submit" name="sa" value="Go" />
            </form>
              <p class="searchtip" style="font-size: 90%">
              General
              </p>
            <script type="text/javascript" src="http://www.google.com/coop/cse/brand?form=cse-search-box&amp;lang=en"></script>
              <form class="search" action="../../../search.html" method="get">
                <input type="text" name="q" size="18" />
                <input type="submit" value="Go" />
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
              </form>
              <p class="searchtip" style="font-size: 90%">
              Docs only
              </p>
          </div>
          <script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="bitssharp">
<span id="id1"></span><h1><code class="xref py py-class docutils literal notranslate"><span class="pre">BitsSharp</span></code><a class="headerlink" href="#bitssharp" title="Permalink to this headline">¶</a></h1>
<p>Control a CRS Bits# device. See typical usage in the class summary (and in the
menu demos&gt;hardware&gt;BitsBox of PsychoPy’s Coder view).</p>
<div class="section" id="attributes">
<h2>Attributes<a class="headerlink" href="#attributes" title="Permalink to this headline">¶</a></h2>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#psychopy.hardware.crs.bits.BitsSharp" title="psychopy.hardware.crs.bits.BitsSharp"><code class="xref py py-obj docutils literal notranslate"><span class="pre">BitsSharp</span></code></a>([win,&nbsp;portName,&nbsp;mode,&nbsp;…])</td>
<td>A class to support functions of the Bits# (and most Display++ functions This device uses the CDC (serial port) connection to the Bits box.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#psychopy.hardware.crs.bits.BitsSharp.mode" title="psychopy.hardware.crs.bits.BitsSharp.mode"><code class="xref py py-obj docutils literal notranslate"><span class="pre">BitsSharp.mode</span></code></a></td>
<td>Get/set the mode of the BitsSharp to one of:</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#psychopy.hardware.crs.bits.BitsSharp.isAwake" title="psychopy.hardware.crs.bits.BitsSharp.isAwake"><code class="xref py py-obj docutils literal notranslate"><span class="pre">BitsSharp.isAwake</span></code></a>()</td>
<td>Test whether we have an active connection on the virtual serial</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#psychopy.hardware.crs.bits.BitsSharp.getInfo" title="psychopy.hardware.crs.bits.BitsSharp.getInfo"><code class="xref py py-obj docutils literal notranslate"><span class="pre">BitsSharp.getInfo</span></code></a>()</td>
<td>Returns a python dictionary of info about the Bits Sharp box</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#psychopy.hardware.crs.bits.BitsSharp.checkConfig" title="psychopy.hardware.crs.bits.BitsSharp.checkConfig"><code class="xref py py-obj docutils literal notranslate"><span class="pre">BitsSharp.checkConfig</span></code></a>([level,&nbsp;demoMode,&nbsp;logFile])</td>
<td>Checks whether there is a configuration for this device and whether it’s correct :params:     level: integer         0: do nothing         1: check that we have a config file and that the graphics             card and operating system match that specified in the             file.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#psychopy.hardware.crs.bits.BitsSharp.gammaCorrectFile" title="psychopy.hardware.crs.bits.BitsSharp.gammaCorrectFile"><code class="xref py py-obj docutils literal notranslate"><span class="pre">BitsSharp.gammaCorrectFile</span></code></a></td>
<td>Get / set the gamma correction file to be used</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#psychopy.hardware.crs.bits.BitsSharp.temporalDithering" title="psychopy.hardware.crs.bits.BitsSharp.temporalDithering"><code class="xref py py-obj docutils literal notranslate"><span class="pre">BitsSharp.temporalDithering</span></code></a></td>
<td>Temporal dithering can be set to True or False</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#psychopy.hardware.crs.bits.BitsSharp.monitorEDID" title="psychopy.hardware.crs.bits.BitsSharp.monitorEDID"><code class="xref py py-obj docutils literal notranslate"><span class="pre">BitsSharp.monitorEDID</span></code></a></td>
<td>Get / set the EDID file for the monitor.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#psychopy.hardware.crs.bits.BitsSharp.beep" title="psychopy.hardware.crs.bits.BitsSharp.beep"><code class="xref py py-obj docutils literal notranslate"><span class="pre">BitsSharp.beep</span></code></a>([freq,&nbsp;dur])</td>
<td>Make a beep of a given frequency and duration</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#psychopy.hardware.crs.bits.BitsSharp.getVideoLine" title="psychopy.hardware.crs.bits.BitsSharp.getVideoLine"><code class="xref py py-obj docutils literal notranslate"><span class="pre">BitsSharp.getVideoLine</span></code></a>(lineN,&nbsp;nPixels[,&nbsp;…])</td>
<td>Return the r,g,b values for a number of pixels on a particular video line :param lineN: the line number you want to read :param nPixels: the number of pixels you want to read :param nAttempts: the first time you call this function it has     to get to status mode.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#psychopy.hardware.crs.bits.BitsSharp.start" title="psychopy.hardware.crs.bits.BitsSharp.start"><code class="xref py py-obj docutils literal notranslate"><span class="pre">BitsSharp.start</span></code></a>()</td>
<td>[Not currently implemented] Used to begin event collection by</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#psychopy.hardware.crs.bits.BitsSharp.stop" title="psychopy.hardware.crs.bits.BitsSharp.stop"><code class="xref py py-obj docutils literal notranslate"><span class="pre">BitsSharp.stop</span></code></a>()</td>
<td>[Not currently implemented] Used to stop event collection by</td>
</tr>
</tbody>
</table>
<p>Direct communications with the serial port:</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#psychopy.hardware.crs.bits.BitsSharp.sendMessage" title="psychopy.hardware.crs.bits.BitsSharp.sendMessage"><code class="xref py py-obj docutils literal notranslate"><span class="pre">BitsSharp.sendMessage</span></code></a>(message[,&nbsp;autoLog])</td>
<td>Send a command to the device (does not wait for a reply or sleep())</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#psychopy.hardware.crs.bits.BitsSharp.getResponse" title="psychopy.hardware.crs.bits.BitsSharp.getResponse"><code class="xref py py-obj docutils literal notranslate"><span class="pre">BitsSharp.getResponse</span></code></a>([length,&nbsp;timeout])</td>
<td>Read the latest response from the serial port</td>
</tr>
</tbody>
</table>
<p>Control the CLUT (Bits++ mode only):</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#psychopy.hardware.crs.bits.BitsSharp.setContrast" title="psychopy.hardware.crs.bits.BitsSharp.setContrast"><code class="xref py py-obj docutils literal notranslate"><span class="pre">BitsSharp.setContrast</span></code></a>(contrast[,&nbsp;LUTrange,&nbsp;…])</td>
<td>Set the contrast of the LUT for ‘bits++’ mode only :Parameters:     contrast : float in the range 0:1         The contrast for the range being set     LUTrange : float or array         If a float is given then this is the fraction of the LUT         to be used.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#psychopy.hardware.crs.bits.BitsSharp.setGamma" title="psychopy.hardware.crs.bits.BitsSharp.setGamma"><code class="xref py py-obj docutils literal notranslate"><span class="pre">BitsSharp.setGamma</span></code></a>(newGamma)</td>
<td>Set the LUT to have the requested gamma value Currently also resets the LUT to be a linear contrast ramp spanning its full range.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#psychopy.hardware.crs.bits.BitsSharp.setLUT" title="psychopy.hardware.crs.bits.BitsSharp.setLUT"><code class="xref py py-obj docutils literal notranslate"><span class="pre">BitsSharp.setLUT</span></code></a>([newLUT,&nbsp;gammaCorrect,&nbsp;…])</td>
<td>SetLUT is only really needed for bits++ mode of bits# to set the look-up table (256 values with 14bits each).</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="details">
<h2>Details<a class="headerlink" href="#details" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="psychopy.hardware.crs.bits.BitsSharp">
<em class="property">class </em><code class="descclassname">psychopy.hardware.crs.bits.</code><code class="descname">BitsSharp</code><span class="sig-paren">(</span><em>win=None</em>, <em>portName=None</em>, <em>mode=''</em>, <em>checkConfigLevel=1</em>, <em>gammaCorrect='hardware'</em>, <em>gamma=None</em>, <em>noComms=False</em><span class="sig-paren">)</span><a class="headerlink" href="#psychopy.hardware.crs.bits.BitsSharp" title="Permalink to this definition">¶</a></dt>
<dd><p>A class to support functions of the Bits# (and most Display++ functions
This device uses the CDC (serial port) connection to the Bits box.
To use it you must have followed the instructions from CRS Ltd. to get
your box into the CDC communication mode.
Typical usage (also see demo in Coder view demos&gt;hardware&gt;BitsBox ):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">psychopy</span> <span class="k">import</span> <span class="n">visual</span>
<span class="kn">from</span> <span class="nn">psychopy.hardware</span> <span class="k">import</span> <span class="n">crs</span>
<span class="c1"># we need to be rendering to framebuffer</span>
<span class="n">win</span> <span class="o">=</span> <span class="n">visual</span><span class="o">.</span><span class="n">Window</span><span class="p">([</span><span class="mi">1024</span><span class="p">,</span><span class="mi">768</span><span class="p">],</span> <span class="n">useFBO</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">bits</span> <span class="o">=</span> <span class="n">crs</span><span class="o">.</span><span class="n">BitsSharp</span><span class="p">(</span><span class="n">win</span><span class="p">,</span> <span class="n">mode</span> <span class="o">=</span> <span class="s1">&#39;mono++&#39;</span><span class="p">)</span>
<span class="c1"># You can continue using your window as normal and OpenGL shaders</span>
<span class="c1"># will convert the output as needed</span>
<span class="nb">print</span><span class="p">(</span><span class="n">bits</span><span class="o">.</span><span class="n">info</span><span class="p">)</span>
<span class="k">if</span> <span class="ow">not</span> <span class="n">bits</span><span class="o">.</span><span class="n">OK</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;failed to connect to Bits box&#39;</span><span class="p">)</span>
    <span class="n">core</span><span class="o">.</span><span class="n">quit</span><span class="p">()</span>
<span class="n">core</span><span class="o">.</span><span class="n">wait</span><span class="p">(</span><span class="mf">0.1</span><span class="p">)</span>
<span class="c1"># now, you can change modes using</span>
<span class="n">bits</span><span class="o">.</span><span class="n">mode</span> <span class="o">=</span> <span class="s1">&#39;mono++&#39;</span> <span class="c1"># &#39;color++&#39;, &#39;mono++&#39;, &#39;bits++&#39;, &#39;status&#39;</span>
</pre></div>
</div>
<p>Note that the firmware in Bits# boxes varies over time and some features of
this class may not work for all firmware versions. Also Bits# boxes can be
configured in various ways via their config.xml file so this class makes certain
assumptions about the configuration. In particular it is assumed that all
digital inputs, triggers and analog inputs are reported as part of status
updates. If some of these report are disabled in your config.xml file 
then ‘status’ and ‘event’ commands in this class may not work.</p>
<p>RTBox commands that reset the key mapping have been found not to work
one some firmware.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first">win : a PsychoPy <a class="reference internal" href="../../visual/window.html#psychopy.visual.Window" title="psychopy.visual.Window"><code class="xref py py-class docutils literal notranslate"><span class="pre">Window</span></code></a> object, required
portName : the (virtual) serial port to which the device is</p>
<blockquote>
<div><p>connected. If None then PsychoPy will search available
serial ports and test communication (on OSX, the first
match of <cite>/dev/tty.usbmodemfa*</cite> will be used and on
linux <cite>/dev/ttyS0</cite> will be used</p>
</div></blockquote>
<p>mode : ‘bits++’, ‘color++’, ‘mono++’, ‘status’
checkConfigLevel : integer</p>
<blockquote>
<div><p>Allows you to specify how much checking of the device is
done to ensure a valid identity look-up table. If you specify
one level and it fails then the check will be escalated to
the next level (e.g. if we check level 1 and find that it
fails we try to find a new LUT):</p>
<blockquote>
<div><ul class="simple">
<li>0 don’t check at all</li>
<li><dl class="first docutils">
<dt>1 check that the graphics driver and OS version haven’t</dt>
<dd>changed since last LUT calibration</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>2 check that the current LUT calibration still provides</dt>
<dd>identity (requires switch to status mode)</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>3 search for a new identity look-up table (requires</dt>
<dd>switch to status mode)</dd>
</dl>
</li>
</ul>
</div></blockquote>
</div></blockquote>
<dl class="last docutils">
<dt>gammaCorrect <span class="classifier-delimiter">:</span> <span class="classifier">string governing how gamma correction is performed</span></dt>
<dd><dl class="first last docutils">
<dt>‘hardware’: use the gamma correction file stored on the</dt>
<dd><p class="first last">hardware</p>
</dd>
<dt>‘FBO’: gamma correct using shaders when rendering the FBO</dt>
<dd><p class="first last">to back buffer</p>
</dd>
<dt>‘bitsMode’: in bits++ mode there is a user-controlled LUT</dt>
<dd><p class="first last">that we can use for gamma correction</p>
</dd>
</dl>
</dd>
<dt>noComms <span class="classifier-delimiter">:</span> <span class="classifier">bool</span></dt>
<dd><p class="first last">If True then don’t try to communicate with the device at all
(passive mode). This can be useful if you want to debug the
system without actually having a Bits# connected.</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="psychopy.hardware.crs.bits.BitsSharp.RTBoxAddKeys">
<code class="descname">RTBoxAddKeys</code><span class="sig-paren">(</span><em>map</em><span class="sig-paren">)</span><a class="headerlink" href="#psychopy.hardware.crs.bits.BitsSharp.RTBoxAddKeys" title="Permalink to this definition">¶</a></dt>
<dd><p>Add key mappings to an existing map.
RTBox events can be mapped to a number of physical events on Bits#
They can be mapped to digital input lines, triggers and CB6 IR input channels.
The format for map is a list of tuples with each tuple containing the name of the 
RTBox button to be mapped and its source eg (‘btn1’,’Din1’) maps physical input Din1 to 
logical button btn1.
RTBox has four logical buttons (btn1-4) and three auxiliary events (light, pulse and trigger)
Buttons/events can be mapped to multiple physical inputs and stay mapped until reset.</p>
<dl class="docutils">
<dt>Example:</dt>
<dd>bits.RTBoxSetKeys([(‘btn1’,’Din0),(‘btn2’,’Din1’)])
bits.RTBoxAddKeys([(‘btn1’,’IRButtonA’),((‘btn2’,’IRButtonB’)])</dd>
</dl>
<p>Will link Din0 to button 1 and Din1 to button 2.
Then adds IRButtonA and IRButtonB alongside the original mappings.</p>
<p>Now both hard wired and IR inputs will - emulating the same logical button press.</p>
<p>Note that the firmware in Bits# units varies over time and some 
features of this class may not work for all firmware versions. 
Also Bits# units can be configured in various ways via their 
config.xml file so this class makes certain assumptions about the
configuration. Such variations may affect key mappings for RTBox
commands.</p>
</dd></dl>

<dl class="method">
<dt id="psychopy.hardware.crs.bits.BitsSharp.RTBoxCalibrate">
<code class="descname">RTBoxCalibrate</code><span class="sig-paren">(</span><em>N=1</em><span class="sig-paren">)</span><a class="headerlink" href="#psychopy.hardware.crs.bits.BitsSharp.RTBoxCalibrate" title="Permalink to this definition">¶</a></dt>
<dd><p>Used to assess error between host clock and Bits# 
button press time stamps.</p>
<p>Prints each sample provided and returns the mean error.</p>
<p>The clock willnever be completely in sync but the aim is that there
should be that the difference between them should not grow over
a serise of button presses.</p>
<p>Note that the firmware in Bits# units varies over time and some 
features of this class may not work for all firmware versions. 
Also Bits# units can be configured in various ways via their 
config.xml file so this class makes certain assumptions about the
configuration. Such variations may affect key mappings for RTBox
commands.</p>
</dd></dl>

<dl class="method">
<dt id="psychopy.hardware.crs.bits.BitsSharp.RTBoxClear">
<code class="descname">RTBoxClear</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#psychopy.hardware.crs.bits.BitsSharp.RTBoxClear" title="Permalink to this definition">¶</a></dt>
<dd><p>Flushes the serial input buffer.
Its good to do this before and after data collection.
This just calls flush() so is a wrapper for RTBox.</p>
</dd></dl>

<dl class="method">
<dt id="psychopy.hardware.crs.bits.BitsSharp.RTBoxDisable">
<code class="descname">RTBoxDisable</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#psychopy.hardware.crs.bits.BitsSharp.RTBoxDisable" title="Permalink to this definition">¶</a></dt>
<dd><p>Disables the detection of RTBox events.
This is useful to stop the Bits# from reporting key presses
When you no longer need them. Nad must be done befor using any
other data logging methods.</p>
<p>It undoes any button - input mappings.</p>
<p>Note that the firmware in Bits# units varies over time and some 
features of this class may not work for all firmware versions. 
Also Bits# units can be configured in various ways via their 
config.xml file so this class makes certain assumptions about the
configuration. Such variations may affect key mappings for RTBox
commands.</p>
<p>The ability to reset keys mappings has been found not to work
on some Bits# firmware.</p>
</dd></dl>

<dl class="method">
<dt id="psychopy.hardware.crs.bits.BitsSharp.RTBoxEnable">
<code class="descname">RTBoxEnable</code><span class="sig-paren">(</span><em>mode=None</em>, <em>map=None</em><span class="sig-paren">)</span><a class="headerlink" href="#psychopy.hardware.crs.bits.BitsSharp.RTBoxEnable" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets up the RTBox with preset or bespoke mappings 
and enables event detection.</p>
<p>RTBox events can be mapped to a number of physical events on Bits#
They can be mapped to digital input lines, tigers and
CB6 IR input channels.</p>
<p>Mode is a list of strings.
Preset mappings  provided via mode:</p>
<blockquote>
<div>CB6 for the CRS CB6 IR response box.
IO for a three button box connected to Din0-2
IO6 for a six button box connected to Din0-5</div></blockquote>
<p>If mode = None or is not set then the value of self.RTBoxMode is used.</p>
<p>Bespoke Mappings over write preset ones.</p>
<p>The format for map is a list of tuples with each tuple 
containing the name of the 
RT Box button to be mapped and its source 
eg (‘btn1’,’Din0’) maps physical input Din0 to 
logical button btn1.</p>
<p>Note the lowest number button event is Btn1</p>
<p>RTBox has four logical buttons (btn1-4) and 
three auxiliary events (light, pulse and trigger)
Buttons/events can be mapped to multiple physical
inputs and stay mapped until reset.</p>
<p>Mode is a list of string or list of strings that contains 
keywords to determine present mappings and modes for RTBox.</p>
<p>If mode includes ‘Down’ button events will be 
detected when pressed.
If mode includes ‘Up’ button events will be 
detected when released.
You can detect both types of event but note 
that pulse, light and trigger events
dont have an ‘Up’ mode.</p>
<dl class="docutils">
<dt>If Trigger is included in mode the trigger </dt>
<dd>event will be mapped to the trigIn connector.</dd>
<dt>Example: </dt>
<dd>bits.RTBoxEnable(mode = ‘Down’), map = [(‘btn1’,’Din0’), (‘btn2’,’Din1’)]</dd>
</dl>
<p>enable the RTBox emulation to detect Down events on buttons 1 and 2 where they are
mapped to DIN0 and DIN1.</p>
<dl class="docutils">
<dt>Example: </dt>
<dd>bits.RTBoxEnable(mode = [‘Down’,’CB6’])</dd>
</dl>
<p>enable the RTBox emulation to detect Down events on the standard CB6 IR response box keys.</p>
<p>Note that the firmware in Bits# units varies over time and some 
features of this class may not work for all firmware versions. 
Also Bits# units can be configured in various ways via their 
config.xml file so this class makes certain assumptions about the
configuration. Such variations may affect key mappings for RTBox
commands.</p>
<p>The ability to reset keys mappings has been found not to work
on some Bits# firmware.</p>
</dd></dl>

<dl class="method">
<dt id="psychopy.hardware.crs.bits.BitsSharp.RTBoxKeysPressed">
<code class="descname">RTBoxKeysPressed</code><span class="sig-paren">(</span><em>N=1</em><span class="sig-paren">)</span><a class="headerlink" href="#psychopy.hardware.crs.bits.BitsSharp.RTBoxKeysPressed" title="Permalink to this definition">¶</a></dt>
<dd><p>Check to see if (at least) the appropriate number 
of RTBox style key presses have been made.</p>
<dl class="docutils">
<dt>Example:</dt>
<dd>bits.RTBoxKeysPressed(5)</dd>
</dl>
<p>will return false until 5 button presses have been recored.</p>
<p>Note that the firmware in Bits# units varies over time and some 
features of this class may not work for all firmware versions. 
Also Bits# units can be configured in various ways via their 
config.xml file so this class makes certain assumptions about the
configuration. Such variations may affect key mappings for RTBox
commands.</p>
</dd></dl>

<dl class="method">
<dt id="psychopy.hardware.crs.bits.BitsSharp.RTBoxResetKeys">
<code class="descname">RTBoxResetKeys</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#psychopy.hardware.crs.bits.BitsSharp.RTBoxResetKeys" title="Permalink to this definition">¶</a></dt>
<dd><p>Resets the key mappings to no mapping.
Has the effect of disabling RTBox input.</p>
<p>Note that the firmware in Bits# units varies over time and some 
features of this class may not work for all firmware versions. 
Also Bits# units can be configured in various ways via their 
config.xml file so this class makes certain assumptions about the
configuration. Such variations may affect key mappings for RTBox
commands.</p>
<p>The ability to reset keys mappings has been found not to work
on some Bits# firmware.</p>
</dd></dl>

<dl class="method">
<dt id="psychopy.hardware.crs.bits.BitsSharp.RTBoxSetKeys">
<code class="descname">RTBoxSetKeys</code><span class="sig-paren">(</span><em>map</em><span class="sig-paren">)</span><a class="headerlink" href="#psychopy.hardware.crs.bits.BitsSharp.RTBoxSetKeys" title="Permalink to this definition">¶</a></dt>
<dd><p>Set key mappings: first resets existing then adds new ones.
Does not reset any event that is not in the new list.
RTBox events can be mapped to a number of physical events on Bits#
They can be mapped to digital input lines, triggers and CB6 IR input channels.
The format for map is a list of tuples with each tuple containing the name of the 
RTBox button to be mapped and its source eg (‘btn1’,’Din1’) maps physical input Din1 to 
logical button btn1.</p>
<p>RTBox has four logical buttons (btn1-4) and three auxiliary events (light, pulse and trigger)
Buttons/events can be mapped to multiple physical inputs and stay mapped until reset.</p>
<dl class="docutils">
<dt>Example:</dt>
<dd>bits.RTBoxSetKeys([(‘btn1’,’Din0),(‘light’,’Din9’)])</dd>
</dl>
<p>Will link Din0 to button 1 and Din9 to the the light input emulation.</p>
<p>Note that the firmware in Bits# units varies over time and some 
features of this class may not work for all firmware versions. 
Also Bits# units can be configured in various ways via their 
config.xml file so this class makes certain assumptions about the
configuration. Such variations may affect key mappings for RTBox
commands.</p>
</dd></dl>

<dl class="method">
<dt id="psychopy.hardware.crs.bits.BitsSharp.RTBoxWait">
<code class="descname">RTBoxWait</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#psychopy.hardware.crs.bits.BitsSharp.RTBoxWait" title="Permalink to this definition">¶</a></dt>
<dd><p>Waits until (at least) one 
of RTBox style key presses have been made 
Pauses program execution in mean time.</p>
<dl class="docutils">
<dt>Example:</dt>
<dd>res = bits.RTBoxWait()</dd>
</dl>
<p>will suspend all other activity until 1 button press has been
recorded and will then return a dict / strcuture containing results.</p>
<p>Results can be accessed as follows:</p>
<dl class="docutils">
<dt>structure</dt>
<dd>res.dir, res.button, res.time</dd>
<dt>or dictionary</dt>
<dd>res[‘dir’], res[‘button’], res[‘time’]</dd>
</dl>
<p>Note that the firmware in Bits# units varies over time and some 
features of this class may not work for all firmware versions. 
Also Bits# units can be configured in various ways via their 
config.xml file so this class makes certain assumptions about the
configuration. Such variations may affect key mappings for RTBox
commands.</p>
</dd></dl>

<dl class="method">
<dt id="psychopy.hardware.crs.bits.BitsSharp.RTBoxWaitN">
<code class="descname">RTBoxWaitN</code><span class="sig-paren">(</span><em>N=1</em><span class="sig-paren">)</span><a class="headerlink" href="#psychopy.hardware.crs.bits.BitsSharp.RTBoxWaitN" title="Permalink to this definition">¶</a></dt>
<dd><p>Waits until (at least) the appropriate number 
of RTBox style key presses have been made 
Pauses program execution in mean time.</p>
<dl class="docutils">
<dt>Example:</dt>
<dd>res = bits.RTBoxWaitN(5)</dd>
</dl>
<p>will suspend all other activity until 5 button presses have been
recorded and will then return a list of Dicts containing the 5 results.</p>
<p>Results can be accessed as follows:</p>
<dl class="docutils">
<dt>structure</dt>
<dd>res[0].dir, res[0].button, res[0].time</dd>
<dt>or dictionary</dt>
<dd>res[0][‘dir’], res[0][‘button’], res[0][‘time’]</dd>
</dl>
<p>Note that the firmware in Bits# units varies over time and some 
features of this class may not work for all firmware versions. 
Also Bits# units can be configured in various ways via their 
config.xml file so this class makes certain assumptions about the
configuration. Such variations may affect key mappings for RTBox
commands.</p>
</dd></dl>

<dl class="method">
<dt id="psychopy.hardware.crs.bits.BitsSharp.beep">
<code class="descname">beep</code><span class="sig-paren">(</span><em>freq=800</em>, <em>dur=1</em><span class="sig-paren">)</span><a class="headerlink" href="#psychopy.hardware.crs.bits.BitsSharp.beep" title="Permalink to this definition">¶</a></dt>
<dd><p>Make a beep of a given frequency and duration</p>
</dd></dl>

<dl class="method">
<dt id="psychopy.hardware.crs.bits.BitsSharp.checkConfig">
<code class="descname">checkConfig</code><span class="sig-paren">(</span><em>level=1</em>, <em>demoMode=False</em>, <em>logFile=''</em><span class="sig-paren">)</span><a class="headerlink" href="#psychopy.hardware.crs.bits.BitsSharp.checkConfig" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks whether there is a configuration for this device and
whether it’s correct
:params:</p>
<blockquote>
<div><dl class="docutils">
<dt>level: integer</dt>
<dd><p class="first">0: do nothing
1: check that we have a config file and that the graphics</p>
<blockquote>
<div>card and operating system match that specified in the
file. Then assume identity LUT is correct</div></blockquote>
<dl class="docutils">
<dt>2: switch the box to status mode and check that the</dt>
<dd>identity LUT is currently working</dd>
</dl>
<p class="last">3: force a fresh search for the identity LUT</p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="psychopy.hardware.crs.bits.BitsSharp.clock">
<code class="descname">clock</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#psychopy.hardware.crs.bits.BitsSharp.clock" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads the internal clock of the Bits box via the RTBox
fortmat but note there will be a delay in reading the value 
back. The fortmat for the return values is the same as for
button box presses. The return vlaue for button will be 9 and
the return value for event wil be time. The return value for
time will be the time of the clock at the moment of the request.</p>
<dl class="docutils">
<dt>Example:</dt>
<dd>res = bits.clock()
print(res.time)
print(res[‘time’])</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="psychopy.hardware.crs.bits.BitsSharp.driverFor">
<code class="descname">driverFor</code><em class="property"> = []</em><a class="headerlink" href="#psychopy.hardware.crs.bits.BitsSharp.driverFor" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="psychopy.hardware.crs.bits.BitsSharp.flush">
<code class="descname">flush</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#psychopy.hardware.crs.bits.BitsSharp.flush" title="Permalink to this definition">¶</a></dt>
<dd><p>Flushes the serial input buffer
Its good to do this before and after data collection,
And generally quite often.</p>
</dd></dl>

<dl class="attribute">
<dt id="psychopy.hardware.crs.bits.BitsSharp.gammaCorrectFile">
<code class="descname">gammaCorrectFile</code><a class="headerlink" href="#psychopy.hardware.crs.bits.BitsSharp.gammaCorrectFile" title="Permalink to this definition">¶</a></dt>
<dd><p>Get / set the gamma correction file to be used
(as stored on the device)</p>
</dd></dl>

<dl class="method">
<dt id="psychopy.hardware.crs.bits.BitsSharp.getAllRTBoxResponses">
<code class="descname">getAllRTBoxResponses</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#psychopy.hardware.crs.bits.BitsSharp.getAllRTBoxResponses" title="Permalink to this definition">¶</a></dt>
<dd><p>Read all of the RTBox style key presses on the 
input buffer.
Returns a list of dict like objects with three members 
‘button’, ‘dir’ and ‘time’</p>
<p>‘button’ is a number from 1 to 9 to indicate the event that 
was detected.
1-4 are the ‘btn1-btn4’ events, 5 and 6 are the 
‘light’ and ‘pulse’ events,
7 is the ‘trigger’ event, 
9 is a requested timestamp event (see Clock()).</p>
<p>‘dir’ is the direction of the event eg ‘up’ or ‘down’, 
trigger is described as ‘on’ when low.</p>
<p>‘dir’ is set to ‘time’ if a requested 
timestamp event has been detected.</p>
<p>‘time’ is the timestamp associated with the event.</p>
<dl class="docutils">
<dt>Values can be read as a structure eg:</dt>
<dd>res= getAllRTBoxResponses()
res[0].dir, res[0].button, res[0].time</dd>
<dt>or dictionary</dt>
<dd>res[0][‘dir’], res[0][‘button’], res[0][‘time’]</dd>
</dl>
<p>Note even if only 1 key press was found 
a list of dict / objects is returned</p>
<p>Note that the firmware in Bits# units varies over time and some 
features of this class may not work for all firmware versions. 
Also Bits# units can be configured in various ways via their 
config.xml file so this class makes certain assumptions about the
configuration. Such variations may affect key mappings for RTBox
commands.</p>
</dd></dl>

<dl class="method">
<dt id="psychopy.hardware.crs.bits.BitsSharp.getAllStatusBoxResponses">
<code class="descname">getAllStatusBoxResponses</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#psychopy.hardware.crs.bits.BitsSharp.getAllStatusBoxResponses" title="Permalink to this definition">¶</a></dt>
<dd><p>Read all of the statusBox style key presses on the 
input buffer.
Returns a list of dict like objects with three members 
‘button’, ‘dir’ and ‘time’</p>
<p>‘button’ is a number from 1 to 9 to indicate the event that 
was detected.
1-17 are the ‘btn1-btn17’ events.</p>
<p>‘dir’ is the direction of the event eg ‘up’ or ‘down’, 
trigger is described as ‘on’ when low.</p>
<p>‘dir’ is set to ‘time’ if a requested 
timestamp event has been detected.</p>
<p>‘time’ is the timestamp associated with the event.</p>
<dl class="docutils">
<dt>Values can be read as a structure eg:</dt>
<dd>res= getAllStatusBoxResponses()
res[0].dir, res[0].button, res[0].time</dd>
<dt>or dictionary</dt>
<dd>res[0][‘dir’], res[0][‘button’], res[0][‘time’]</dd>
</dl>
<p>Note even if only 1 key press was found 
a list of dict / objects is returned.</p>
<p>Note that the firmware in Bits# units varies over time and some 
features of this class may not work for all firmware versions. 
Also Bits# units can be configured in various ways via their 
config.xml file so this class makes certain assumptions about the
configuration. In particular it is assumed that all digital inputs,
triggers and analog inputs are reported as part of status
updates. If some of these report are disabled in your config.xml file 
then ‘status’ and ‘event’ commands in this class may not work.</p>
</dd></dl>

<dl class="method">
<dt id="psychopy.hardware.crs.bits.BitsSharp.getAllStatusEvents">
<code class="descname">getAllStatusEvents</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#psychopy.hardware.crs.bits.BitsSharp.getAllStatusEvents" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the whole status event list</p>
<p>Returns a list of dictionary like objects with the following entries
source, input, direction, time.</p>
<p>source = the general source of the event - e.g. 
DIN for Digital input, 
IR for CB6 IR response box events</p>
<p>input = the individual input in the source.
direction = ‘up’ or ‘down’
time = time stamp.</p>
<p>All sourses are numbered from zero.
Din 0 … 9
IR 0 … 5
ADC 0 … 5</p>
<p>mode specifies which directions of events are captured. 
e.g ‘up’ will only report up events.</p>
<p>The data can be accessed as value[i][‘time’] or value[i].time</p>
<dl class="docutils">
<dt>Example:</dt>
<dd><p class="first">bits.startStatusLog()
while not event</p>
<blockquote>
<div>#do some processing
continue</div></blockquote>
<p class="last">bits.stopStatusLog()
res=getAllStatusEvents()
print(bits.res[0].time)</p>
</dd>
</dl>
<p>Note that the firmware in Bits# units varies over time and some 
features of this class may not work for all firmware versions. 
Also Bits# units can be configured in various ways via their 
config.xml file so this class makes certain assumptions about the
configuration. In particular it is assumed that all digital inputs,
triggers and analog inputs are reported as part of status
updates. If some of these report are disabled in your config.xml file 
then ‘status’ and ‘event’ commands in this class may not work.</p>
</dd></dl>

<dl class="method">
<dt id="psychopy.hardware.crs.bits.BitsSharp.getAllStatusValues">
<code class="descname">getAllStatusValues</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#psychopy.hardware.crs.bits.BitsSharp.getAllStatusValues" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the whole status values list.</p>
<p>Returns a list of dict like objects with the following entries
sample, time, trigIn, DIN[10], DWORD, IR[6], ADC[6]
sample is the sample ID number.
time is the time stamp.
trigIn is the value of the trigger input.
DIN is a list of 10 digital input values.
DWORD represents the digital inputs as a single decimal value.
IR is a list of 10 infra-red (IR) input values.
ADC is a list of 6 analog input values.
These can be accessed as value[i][‘sample’] 
or value[i].sample, values[i].ADC[j].</p>
<p>All sourses are numbered from zero.
Din 0 … 9
IR 0 … 5
ADC 0 … 5</p>
<dl class="docutils">
<dt>Example:</dt>
<dd><p class="first">bits.startStatusLog()
while not event</p>
<blockquote>
<div>#do some processing
continue</div></blockquote>
<p class="last">bits.stopStatusLog()
res=getAllStatusValues()
print(bits.res[0].time)</p>
</dd>
</dl>
<p>Note that the firmware in Bits# units varies over time and some 
features of this class may not work for all firmware versions. 
Also Bits# units can be configured in various ways via their 
config.xml file so this class makes certain assumptions about the
configuration. In particular it is assumed that all digital inputs,
triggers and analog inputs are reported as part of status
updates. If some of these report are disabled in your config.xml file 
then ‘status’ and ‘event’ commands in this class may not work.</p>
</dd></dl>

<dl class="method">
<dt id="psychopy.hardware.crs.bits.BitsSharp.getAnalog">
<code class="descname">getAnalog</code><span class="sig-paren">(</span><em>N=0</em><span class="sig-paren">)</span><a class="headerlink" href="#psychopy.hardware.crs.bits.BitsSharp.getAnalog" title="Permalink to this definition">¶</a></dt>
<dd><p>Pulls out the values of the analog inputs for 
the Nth status entry.</p>
<p>Returns a dictionary with a list of 6 floats (ADC) and a time stamp (time).</p>
<p>All sourses are numbered from zero.
ADC 0 … 5</p>
<dl class="docutils">
<dt>Example:</dt>
<dd>bits.pollStatus()
res=bits.getAnalog()
print(res[‘ADC’])</dd>
</dl>
<p>will poll the status display the values of the  ADC inputs 
in the first status entry returned.</p>
<p>Note that the firmware in Bits# units varies over time and some 
features of this class may not work for all firmware versions. 
Also Bits# units can be configured in various ways via their 
config.xml file so this class makes certain assumptions about the
configuration. In particular it is assumed that all digital inputs,
triggers and analog inputs are reported as part of status
updates. If some of these report are disabled in your config.xml file 
then ‘status’ and ‘event’ commands in this class may not work.</p>
</dd></dl>

<dl class="method">
<dt id="psychopy.hardware.crs.bits.BitsSharp.getDigital">
<code class="descname">getDigital</code><span class="sig-paren">(</span><em>N=0</em><span class="sig-paren">)</span><a class="headerlink" href="#psychopy.hardware.crs.bits.BitsSharp.getDigital" title="Permalink to this definition">¶</a></dt>
<dd><p>Pulls out the values of the digital inputs for
the Nth status entry.</p>
<p>Returns a dictionary with a list of 10 ints that 
are 1 or 0 (DIN) and a time stamp (time)</p>
<p>ll sourses are numbered from zero.
Din 0 … 9</p>
<dl class="docutils">
<dt>Example:</dt>
<dd>bits.pollStatus()
res=bits.getAnalog()
print(res[‘DIN’])</dd>
</dl>
<p>will poll the status display the value of the  digital inputs 
in the first status entry returned.</p>
<p>Note that the firmware in Bits# units varies over time and some 
features of this class may not work for all firmware versions. 
Also DBits# units can be configured in various ways via their 
config.xml file so this class makes certain assumptions about the
configuration. In particular it is assumed that all digital inputs,
triggers and analog inputs are reported as part of status
updates. If some of these report are disabled in your config.xml file 
then ‘status’ and ‘event’ commands in this class may not work.</p>
</dd></dl>

<dl class="method">
<dt id="psychopy.hardware.crs.bits.BitsSharp.getDigitalWord">
<code class="descname">getDigitalWord</code><span class="sig-paren">(</span><em>N=0</em><span class="sig-paren">)</span><a class="headerlink" href="#psychopy.hardware.crs.bits.BitsSharp.getDigitalWord" title="Permalink to this definition">¶</a></dt>
<dd><p>Pulls out the values of the digital inputs for 
the Nth status entry.</p>
<p>Returns a dictionary with a 10 bit word representing the binary
values of those inputs (DWORD) and a time stamp (time).</p>
<dl class="docutils">
<dt>Example:</dt>
<dd>bits.pollStatus()
res=bits.getAnalog()
print(res[‘DWORD’])</dd>
</dl>
<p>will poll the status display the value of the digital inputs 
as a decimal number.</p>
<p>Note that the firmware in Bits# units varies over time and some 
features of this class may not work for all firmware versions. 
Also Bits# units can be configured in various ways via their 
config.xml file so this class makes certain assumptions about the
configuration. In particular it is assumed that all digital inputs,
triggers and analog inputs are reported as part of status
updates. If some of these report are disabled in your config.xml file 
then ‘status’ and ‘event’ commands in this class may not work.</p>
</dd></dl>

<dl class="method">
<dt id="psychopy.hardware.crs.bits.BitsSharp.getIRBox">
<code class="descname">getIRBox</code><span class="sig-paren">(</span><em>N=0</em><span class="sig-paren">)</span><a class="headerlink" href="#psychopy.hardware.crs.bits.BitsSharp.getIRBox" title="Permalink to this definition">¶</a></dt>
<dd><p>Pulls out the values of the CB6 IR response box inputs for
the Nth status entry.</p>
<p>Returns a dictionary with a list of 6 ints that are
1 or 0 (IRBox) and a time stamp (time).</p>
<p>ll sourses are numbered from zero.
IR 0 … 5</p>
<dl class="docutils">
<dt>Example:</dt>
<dd>bits.pollStatus()
res=bits.getAnalog()
print(res.[‘IRBox’])</dd>
</dl>
<p>will poll the status display the values of the  IR box buttons 
in the first status entry returned.</p>
<p>Note that the firmware in Bits# units varies over time and some 
features of this class may not work for all firmware versions. 
Also Bits# units can be configured in various ways via their 
config.xml file so this class makes certain assumptions about the
configuration. In particular it is assumed that all digital inputs,
triggers and analog inputs are reported as part of status
updates. If some of these report are disabled in your config.xml file 
then ‘status’ and ‘event’ commands in this class may not work.</p>
</dd></dl>

<dl class="method">
<dt id="psychopy.hardware.crs.bits.BitsSharp.getInfo">
<code class="descname">getInfo</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#psychopy.hardware.crs.bits.BitsSharp.getInfo" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a python dictionary of info about the Bits Sharp box</p>
<dl class="docutils">
<dt>Example:</dt>
<dd>info=bits.getInfo
print(info[‘ProductType’])</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="psychopy.hardware.crs.bits.BitsSharp.getPackets">
<code class="descname">getPackets</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#psychopy.hardware.crs.bits.BitsSharp.getPackets" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the number of packets available for trigger pulses.</p>
</dd></dl>

<dl class="method">
<dt id="psychopy.hardware.crs.bits.BitsSharp.getRTBoxResponse">
<code class="descname">getRTBoxResponse</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#psychopy.hardware.crs.bits.BitsSharp.getRTBoxResponse" title="Permalink to this definition">¶</a></dt>
<dd><p>checks for one RTBox style key presses on the input 
buffer then reads it.
Returns a dict like object with three members 
‘button’, ‘dir’ and ‘time’</p>
<p>‘button’ is a number from 1 to 9 to indicate the event that 
was detected.
1-4 are the ‘btn1-btn4’ events, 5 and 6 are the 
‘light’ and ‘pulse’ events,
7 is the ‘trigger’ event, 
9 is a requested timestamp event (see Clock()).</p>
<p>‘dir’ is the direction of the event eg ‘up’ or ‘down’, 
trigger is described as ‘on’ when low.</p>
<p>‘dir’ is set to ‘time’ if a requested 
timestamp event has been detected.</p>
<p>‘time’ is the timestamp associated with the event.</p>
<dl class="docutils">
<dt>Value can be read as a structure, eg:</dt>
<dd>res= getRTBoxResponse()
res.dir, res.button, res.time</dd>
<dt>or dictionary</dt>
<dd>res[‘dir’], res[‘button’], res[‘time’]</dd>
</dl>
<p>Note that the firmware in Bits# units varies over time and some 
features of this class may not work for all firmware versions. 
Also Bits# units can be configured in various ways via their 
config.xml file so this class makes certain assumptions about the
configuration. Such variations may affect key mappings for RTBox
commands.</p>
</dd></dl>

<dl class="method">
<dt id="psychopy.hardware.crs.bits.BitsSharp.getRTBoxResponses">
<code class="descname">getRTBoxResponses</code><span class="sig-paren">(</span><em>N=1</em><span class="sig-paren">)</span><a class="headerlink" href="#psychopy.hardware.crs.bits.BitsSharp.getRTBoxResponses" title="Permalink to this definition">¶</a></dt>
<dd><p>checks for (at least) an appropriate number of 
RTBox style key presses on the input buffer then reads them.
Returns a list of dict like objects with three members 
‘button’, ‘dir’ and ‘time’</p>
<p>‘button’ is a number from 1 to 9 to indicate the event that 
was detected.
1-4 are the ‘btn1-btn4’ events, 5 and 6 are the 
‘light’ and ‘pulse’ events,
7 is the ‘trigger’ event, 
9 is a requested timestamp event (see Clock()).</p>
<p>‘dir’ is the direction of the event eg ‘up’ or ‘down’, 
trigger is described as ‘on’ when low.</p>
<p>‘dir’ is set to ‘time’ if a requested 
timestamp event has been detected.</p>
<p>‘time’ is the timestamp associated with the event.</p>
<dl class="docutils">
<dt>Values can be read as a list of structures eg:</dt>
<dd>res= getRTBoxResponses(3)
res[0].dir, res[0].button, res[0].time</dd>
<dt>or dictionaries</dt>
<dd>res[0][‘dir’], res[0][‘button’], res[0][‘time’]</dd>
</dl>
<p>Note even if only 1 key press was requested 
a list of dict / objects is returned.</p>
<p>Note that the firmware in Bits# units varies over time and some 
features of this class may not work for all firmware versions. 
Also Bits# units can be configured in various ways via their 
config.xml file so this class makes certain assumptions about the
configuration. Such variations may affect key mappings for RTBox
commands.</p>
</dd></dl>

<dl class="method">
<dt id="psychopy.hardware.crs.bits.BitsSharp.getResponse">
<code class="descname">getResponse</code><span class="sig-paren">(</span><em>length=1</em>, <em>timeout=0.1</em><span class="sig-paren">)</span><a class="headerlink" href="#psychopy.hardware.crs.bits.BitsSharp.getResponse" title="Permalink to this definition">¶</a></dt>
<dd><p>Read the latest response from the serial port</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Params:</th><td class="field-body"></td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt><cite>length</cite> determines whether we expect:</dt>
<dd><p class="first">1: a single-line reply (use readline())
2: a multiline reply (use readlines() which <em>requires</em> timeout)
-1: may not be any EOL character; just read whatever chars are</p>
<blockquote class="last">
<div>there</div></blockquote>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="psychopy.hardware.crs.bits.BitsSharp.getStatus">
<code class="descname">getStatus</code><span class="sig-paren">(</span><em>N=0</em><span class="sig-paren">)</span><a class="headerlink" href="#psychopy.hardware.crs.bits.BitsSharp.getStatus" title="Permalink to this definition">¶</a></dt>
<dd><p>Pulls out the Nth entry in the statusValues list.</p>
<p>Returns a dict like object with the following entries
sample, time, trigIn, DIN[10], DWORD, IR[6], ADC[6]</p>
<p>sample is the sample ID number.
time is the time stamp.
trigIn is the value of the trigger input.
DIN is a list of 10 digital input values.
DWORD represents the digital inputs as a single decimal value.
IR is a list of 10 infra-red (IR) input values.
ADC is a list of 6 analog input values.
These can be accessed as value[‘sample’] 
or value.sample, values.ADC[j].</p>
<p>All sourses are numbered from zero.
Din 0 … 9
IR 0 … 5
ADC 0 … 5</p>
<dl class="docutils">
<dt>Example:</dt>
<dd><p class="first">bits.startStatusLog()
while not event</p>
<blockquote>
<div>#do some processing
continue</div></blockquote>
<p class="last">bits.stopStatusLog()
res=getStatus(20)
print(bits.res.time)</p>
</dd>
</dl>
<p>Note that the firmware in Bits# units varies over time and some 
features of this class may not work for all firmware versions. 
Also Bits# units can be configured in various ways via their 
config.xml file so this class makes certain assumptions about the
configuration. In particular it is assumed that all digital inputs,
triggers and analog inputs are reported as part of status
updates. If some of these report are disabled in your config.xml file 
then ‘status’ and ‘event’ commands in this class may not work.</p>
</dd></dl>

<dl class="method">
<dt id="psychopy.hardware.crs.bits.BitsSharp.getStatusBoxResponse">
<code class="descname">getStatusBoxResponse</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#psychopy.hardware.crs.bits.BitsSharp.getStatusBoxResponse" title="Permalink to this definition">¶</a></dt>
<dd><p>checks for one statusBox style key presses on the input 
buffer then reads it.
Returns a dict like object with three members 
‘button’, ‘dir’ and ‘time’</p>
<p>‘button’ is a number from 1 to 9 to indicate the event that 
was detected.
1-17 are the ‘btn1-btn17’ events.</p>
<p>‘dir’ is the direction of the event eg ‘up’ or ‘down’, 
trigger is described as ‘on’ when low.</p>
<p>‘dir’ is set to ‘time’ if a requested 
timestamp event has been detected.</p>
<p>‘time’ is the timestamp associated with the event.</p>
<dl class="docutils">
<dt>Value can be read as a structure, eg:</dt>
<dd>res= getRTBoxResponse()
res.dir, res.button, res.time</dd>
<dt>or dictionary</dt>
<dd>res[‘dir’], res[‘button’], res[‘time’]</dd>
</dl>
<p>Note that the firmware in Bits# units varies over time and some 
features of this class may not work for all firmware versions. 
Also Bits# units can be configured in various ways via their 
config.xml file so this class makes certain assumptions about the
configuration. In particular it is assumed that all digital inputs,
triggers and analog inputs are reported as part of status
updates. If some of these report are disabled in your config.xml file 
then ‘status’ and ‘event’ commands in this class may not work.</p>
</dd></dl>

<dl class="method">
<dt id="psychopy.hardware.crs.bits.BitsSharp.getStatusBoxResponses">
<code class="descname">getStatusBoxResponses</code><span class="sig-paren">(</span><em>N=1</em><span class="sig-paren">)</span><a class="headerlink" href="#psychopy.hardware.crs.bits.BitsSharp.getStatusBoxResponses" title="Permalink to this definition">¶</a></dt>
<dd><p>checks for (at least) an appropriate number of 
RTBox style key presses on the input buffer then reads them.
Returns a list of dict like objects with three members 
‘button’, ‘dir’ and ‘time’</p>
<p>‘button’ is a number from 1 to 9 to indicate the event that 
was detected.
1-4 are the ‘btn1-btn4’ events, 5 and 6 are the 
‘light’ and ‘pulse’ events,
7 is the ‘trigger’ event, 
9 is a requested timestamp event (see Clock()).</p>
<p>‘dir’ is the direction of the event eg ‘up’ or ‘down’, 
trigger is described as ‘on’ when low.</p>
<p>‘dir’ is set to ‘time’ if a requested 
timestamp event has been detected.</p>
<p>‘time’ is the timestamp associated with the event.</p>
<dl class="docutils">
<dt>Values can be read as a list of structures eg:</dt>
<dd>res= getRTBoxResponses(3)
res[0].dir, res[0].button, res[0].time</dd>
<dt>or dictionaries</dt>
<dd>res[0][‘dir’], res[0][‘button’], res[0][‘time’]</dd>
</dl>
<p>Note even if only 1 key press was requested 
a list of dict / objects is returned.</p>
<p>Note that the firmware in Bits# units varies over time and some 
features of this class may not work for all firmware versions. 
Also Bits# units can be configured in various ways via their 
config.xml file so this class makes certain assumptions about the
configuration. In particular it is assumed that all digital inputs,
triggers and analog inputs are reported as part of status
updates. If some of these report are disabled in your config.xml file 
then ‘status’ and ‘event’ commands in this class may not work.</p>
</dd></dl>

<dl class="method">
<dt id="psychopy.hardware.crs.bits.BitsSharp.getStatusEvent">
<code class="descname">getStatusEvent</code><span class="sig-paren">(</span><em>N=0</em><span class="sig-paren">)</span><a class="headerlink" href="#psychopy.hardware.crs.bits.BitsSharp.getStatusEvent" title="Permalink to this definition">¶</a></dt>
<dd><p>pulls out the Nth event from the status event list</p>
<p>Returns a dictionary like object with the following entries
source, input, direction, time.</p>
<p>source = the general source of the event - e.g. 
DIN for Digital input, 
IR for IT response box.</p>
<p>input = the individual input in the source.
direction = ‘up’ or ‘down’
time = time stamp.</p>
<p>All sourses are numbered from zero.
Din 0 … 9
IR 0 … 5
ADC 0 … 5</p>
<p>mode specifies which directions of events are captured, 
e.g ‘up’ will only report up events.</p>
<p>The data can be accessed as value[‘time’] or value.time</p>
<dl class="docutils">
<dt>Example:</dt>
<dd><p class="first">bits.startStatusLog()
while not event</p>
<blockquote>
<div>#do some processing
continue</div></blockquote>
<p class="last">bits.stopStatusLog()
res=getAllStatusEvents(20)
print(bits.res.time)</p>
</dd>
</dl>
<p>Note that the firmware in Bits# units varies over time and some 
features of this class may not work for all firmware versions. 
Also Bits# units can be configured in various ways via their 
config.xml file so this class makes certain assumptions about the
configuration. In particular it is assumed that all digital inputs,
triggers and analog inputs are reported as part of status
updates. If some of these report are disabled in your config.xml file 
then ‘status’ and ‘event’ commands in this class may not work.</p>
</dd></dl>

<dl class="method">
<dt id="psychopy.hardware.crs.bits.BitsSharp.getTrigIn">
<code class="descname">getTrigIn</code><span class="sig-paren">(</span><em>N=0</em><span class="sig-paren">)</span><a class="headerlink" href="#psychopy.hardware.crs.bits.BitsSharp.getTrigIn" title="Permalink to this definition">¶</a></dt>
<dd><p>Pulls out the values of the trigger input for the 
Nth status entry.</p>
<p>Returns dictionary with a 0 or 1 (trigIn) and a time stamp (time)</p>
<dl class="docutils">
<dt>Example:</dt>
<dd>bits.pollStatus()
res=bits.getAnalog()
print(res[‘trigIn’])</dd>
</dl>
<p>will poll the status display the value of the trigger input.</p>
<p>Note that the firmware in Bits# units varies over time and some 
features of this class may not work for all firmware versions. 
Also Bits# units can be configured in various ways via their 
config.xml file so this class makes certain assumptions about the
configuration. In particular it is assumed that all digital inputs,
triggers and analog inputs are reported as part of status
updates. If some of these report are disabled in your config.xml file 
then ‘status’ and ‘event’ commands in this class may not work.</p>
</dd></dl>

<dl class="method">
<dt id="psychopy.hardware.crs.bits.BitsSharp.getVideoLine">
<code class="descname">getVideoLine</code><span class="sig-paren">(</span><em>lineN</em>, <em>nPixels</em>, <em>timeout=10.0</em>, <em>nAttempts=10</em><span class="sig-paren">)</span><a class="headerlink" href="#psychopy.hardware.crs.bits.BitsSharp.getVideoLine" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the r,g,b values for a number of pixels on a particular
video line
:param lineN: the line number you want to read
:param nPixels: the number of pixels you want to read
:param nAttempts: the first time you call this function it has</p>
<blockquote>
<div>to get to status mode. In this case it sometimes takes a few
attempts to make the call work</div></blockquote>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">an Nx3 numpy array of uint8 values</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="psychopy.hardware.crs.bits.BitsSharp.isAwake">
<code class="descname">isAwake</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#psychopy.hardware.crs.bits.BitsSharp.isAwake" title="Permalink to this definition">¶</a></dt>
<dd><p>Test whether we have an active connection on the virtual serial
port</p>
</dd></dl>

<dl class="attribute">
<dt id="psychopy.hardware.crs.bits.BitsSharp.isOpen">
<code class="descname">isOpen</code><a class="headerlink" href="#psychopy.hardware.crs.bits.BitsSharp.isOpen" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="psychopy.hardware.crs.bits.BitsSharp.longName">
<code class="descname">longName</code><em class="property"> = ''</em><a class="headerlink" href="#psychopy.hardware.crs.bits.BitsSharp.longName" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="psychopy.hardware.crs.bits.BitsSharp.mode">
<code class="descname">mode</code><a class="headerlink" href="#psychopy.hardware.crs.bits.BitsSharp.mode" title="Permalink to this definition">¶</a></dt>
<dd><p>Get/set the mode of the BitsSharp to one of:
“bits++”
“mono++” 
“color++” 
“status”
“storage”
“auto”</p>
</dd></dl>

<dl class="attribute">
<dt id="psychopy.hardware.crs.bits.BitsSharp.monitorEDID">
<code class="descname">monitorEDID</code><a class="headerlink" href="#psychopy.hardware.crs.bits.BitsSharp.monitorEDID" title="Permalink to this definition">¶</a></dt>
<dd><p>Get / set the EDID file for the monitor.
The edid files will be located in the EDID subdirectory of the
flash disk. The file â€œautomatic.edidâ€ will be the file read from
the connected monitor.</p>
</dd></dl>

<dl class="attribute">
<dt id="psychopy.hardware.crs.bits.BitsSharp.name">
<code class="descname">name</code><em class="property"> = 'CRS Bits#'</em><a class="headerlink" href="#psychopy.hardware.crs.bits.BitsSharp.name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="psychopy.hardware.crs.bits.BitsSharp.next">
<code class="descname">next</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#psychopy.hardware.crs.bits.BitsSharp.next" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="psychopy.hardware.crs.bits.BitsSharp.pause">
<code class="descname">pause</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#psychopy.hardware.crs.bits.BitsSharp.pause" title="Permalink to this definition">¶</a></dt>
<dd><p>Pause for a default period for this device</p>
</dd></dl>

<dl class="method">
<dt id="psychopy.hardware.crs.bits.BitsSharp.pollStatus">
<code class="descname">pollStatus</code><span class="sig-paren">(</span><em>t=0.0001</em><span class="sig-paren">)</span><a class="headerlink" href="#psychopy.hardware.crs.bits.BitsSharp.pollStatus" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads the status reports from the Bits# for the specified 
usually short time period t. The script will wait for this time
to lapse so not ideal for  time critical applications.</p>
<p>If t is less than 0.01 polling will continue until at least 1
data entry has been recorded.</p>
<p>If you don’t want to wait while this does its job 
use startStatusLog and stopStatusLog instead.</p>
<p>Fills the statusValues list with all the status values
read during the time period.</p>
<p>Fills the statusEvents list with just those status values
that are likely to be meaningful events.</p>
<p>the members statusValues and statusEvents will end up containing 
dict like objects of the following style:
sample, time, trigIn, DIN[10], DWORD, IR[6], ADC[6]</p>
<p>They can be accessed as statusValues[i][‘sample’] or 
stautsValues[i].sample, statusValues[x].ADC[j].</p>
<dl class="docutils">
<dt>Example:</dt>
<dd>bits.pollStatus()
print(bits.statusValues[0].IR[0])</dd>
</dl>
<p>will display the value of the IR InputA in the first sample recorded.</p>
<p>Note: Starts and stops logging for itself.</p>
<p>Note that the firmware in Bits# units varies over time and some 
features of this class may not work for all firmware versions. 
Also Bits# units can be configured in various ways via their 
config.xml file so this class makes certain assumptions about the
configuration. In particular it is assumed that all digital inputs,
triggers and analog inputs are reported as part of status
updates. If some of these report are disabled in your config.xml file 
then ‘status’ and ‘event’ commands in this class may not work.</p>
</dd></dl>

<dl class="method">
<dt id="psychopy.hardware.crs.bits.BitsSharp.primeClock">
<code class="descname">primeClock</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#psychopy.hardware.crs.bits.BitsSharp.primeClock" title="Permalink to this definition">¶</a></dt>
<dd><p>Primes the clock to reset at the next screen 
flip - note only 1 clock reset signal will be issued
but if the frame(s) after the reset frame is 
dropped the reset will be re-issued thus keeping timing good.</p>
<p>Resets continute to be issued on each video frame until
the next win.flip so you need to have regular win.flips for
this fucntion to work properly.</p>
<dl class="docutils">
<dt>Example</dt>
<dd><p class="first">bits.primeClock()
drawImage
while not response</p>
<blockquote class="last">
<div>#do some processing
bits.win.flip()</div></blockquote>
</dd>
</dl>
<p>Will get a clock reset signal ready but wont issue it until the first win.flip in the loop.</p>
</dd></dl>

<dl class="method">
<dt id="psychopy.hardware.crs.bits.BitsSharp.read">
<code class="descname">read</code><span class="sig-paren">(</span><em>timeout=0.1</em><span class="sig-paren">)</span><a class="headerlink" href="#psychopy.hardware.crs.bits.BitsSharp.read" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the current waiting characters from the serial port
if there are any.</p>
<p>Mostly used interally but may be needed by user. Note the
return message depends on what state the device is in and will
need to be decoded. See the Bits# manual but also the other functions
herein that do the decoding for you.</p>
<dl class="docutils">
<dt>Example:</dt>
<dd>message = bits.read()</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="psychopy.hardware.crs.bits.BitsSharp.reset">
<code class="descname">reset</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#psychopy.hardware.crs.bits.BitsSharp.reset" title="Permalink to this definition">¶</a></dt>
<dd><p>Deprecated: This was used on the old Bits++
to power-cycle the box.
It required the compiled dll, which only worked 
on windows and doesn’t work with Bits# or Display++.</p>
</dd></dl>

<dl class="method">
<dt id="psychopy.hardware.crs.bits.BitsSharp.resetClock">
<code class="descname">resetClock</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#psychopy.hardware.crs.bits.BitsSharp.resetClock" title="Permalink to this definition">¶</a></dt>
<dd><p>Issues a clock reset code using 1 screen flip
if the next frame(s) is dropped the reset will be 
re-issued thus keeping timing good.</p>
<p>Resets continute to be issued on each video frame until
the next win.flip so you need to have regular win.flips for
this fucntion to work properly.</p>
<dl class="docutils">
<dt>Example:</dt>
<dd>bits.resetClock()
drawImage()
bits.win.flip()</dd>
</dl>
<p>Will issue clock resets  while the image is being drawn then
display the inmage and allow the clock to continue formt he same frame.</p>
<dl class="docutils">
<dt>Example:</dt>
<dd>bits.resetClock()
bits.RTBoxWait()
bits.win.flip()</dd>
</dl>
<p>Will issue clock resets until a button is presses.</p>
</dd></dl>

<dl class="method">
<dt id="psychopy.hardware.crs.bits.BitsSharp.sendAnalog">
<code class="descname">sendAnalog</code><span class="sig-paren">(</span><em>AOUT1=0</em>, <em>AOUT2=0</em><span class="sig-paren">)</span><a class="headerlink" href="#psychopy.hardware.crs.bits.BitsSharp.sendAnalog" title="Permalink to this definition">¶</a></dt>
<dd><p>sends a single analog output pulse uses up 1 win flip.
pulse will continue until next win flip called.
Actions are always 1 frame behind the request.</p>
<p>May conflict with trigger and goggle settings.</p>
<dl class="docutils">
<dt>Example:</dt>
<dd>bits.sendAnalog(4.5,-2.0)
bits.win.flip()</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="psychopy.hardware.crs.bits.BitsSharp.sendMessage">
<code class="descname">sendMessage</code><span class="sig-paren">(</span><em>message</em>, <em>autoLog=True</em><span class="sig-paren">)</span><a class="headerlink" href="#psychopy.hardware.crs.bits.BitsSharp.sendMessage" title="Permalink to this definition">¶</a></dt>
<dd><p>Send a command to the device (does not wait for a reply or sleep())</p>
</dd></dl>

<dl class="method">
<dt id="psychopy.hardware.crs.bits.BitsSharp.sendTrigger">
<code class="descname">sendTrigger</code><span class="sig-paren">(</span><em>triggers=0</em>, <em>onTime=0</em>, <em>duration=0</em>, <em>mask=65535</em><span class="sig-paren">)</span><a class="headerlink" href="#psychopy.hardware.crs.bits.BitsSharp.sendTrigger" title="Permalink to this definition">¶</a></dt>
<dd><p>Sends a single trigger using up 1 win.flip.
The trigger will be sent on the following frame.</p>
<p>The triggers will continue until after the next win.flip.</p>
<p>Actions are always 1 frame after the request.</p>
<p>May do odd things if Goggles and Analog are also
in use.</p>
<dl class="docutils">
<dt>Example: </dt>
<dd>bits.sendTrigger(0b0000000010, 2.0, 4.0)
bits.win.flip()</dd>
</dl>
<p>Will send a 4ms puilse on DOUT1 2ms after the start of the frame.
Due to the following win.flip() the pulse should last for 1 frame only.</p>
<p>Triggers will continue until stopTrigger is called.</p>
</dd></dl>

<dl class="method">
<dt id="psychopy.hardware.crs.bits.BitsSharp.setAnalog">
<code class="descname">setAnalog</code><span class="sig-paren">(</span><em>AOUT1=0</em>, <em>AOUT2=0</em><span class="sig-paren">)</span><a class="headerlink" href="#psychopy.hardware.crs.bits.BitsSharp.setAnalog" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets up Analog outputs in Bits# 
AOUT1 and AOUT2 are the two analog values required in volts.
Analog comands are issued at the next win.flip() and 
actionsed 1 video frame later.</p>
<dl class="docutils">
<dt>Example:</dt>
<dd>bits.set Analog(4.5,-2.2)
bits.startAnalog()
bits.win.flip()</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="psychopy.hardware.crs.bits.BitsSharp.setContrast">
<code class="descname">setContrast</code><span class="sig-paren">(</span><em>contrast</em>, <em>LUTrange=1.0</em>, <em>gammaCorrect=None</em><span class="sig-paren">)</span><a class="headerlink" href="#psychopy.hardware.crs.bits.BitsSharp.setContrast" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the contrast of the LUT for ‘bits++’ mode only
:Parameters:</p>
<blockquote>
<div><dl class="docutils">
<dt>contrast <span class="classifier-delimiter">:</span> <span class="classifier">float in the range 0:1</span></dt>
<dd>The contrast for the range being set</dd>
<dt>LUTrange <span class="classifier-delimiter">:</span> <span class="classifier">float or array</span></dt>
<dd>If a float is given then this is the fraction of the LUT
to be used. If an array of floats is given, these will
specify the start / stop points as fractions of the LUT.
If an array of ints (0-255) is given these determine the
start stop <em>indices</em> of the LUT</dd>
</dl>
</div></blockquote>
<dl class="docutils">
<dt>Examples:</dt>
<dd><dl class="first docutils">
<dt><code class="docutils literal notranslate"><span class="pre">setContrast(1.0,0.5)</span></code></dt>
<dd>will set the central 50% of the LUT so that a stimulus with
contr=0.5 will actually be drawn with contrast 1.0</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">setContrast(1.0,[0.25,0.5])</span></code>
<code class="docutils literal notranslate"><span class="pre">setContrast(1.0,[63,127])</span></code></p>
<blockquote class="last">
<div>will set the lower-middle quarter of the LUT
(which might be useful in LUT animation paradigms)</div></blockquote>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="psychopy.hardware.crs.bits.BitsSharp.setGamma">
<code class="descname">setGamma</code><span class="sig-paren">(</span><em>newGamma</em><span class="sig-paren">)</span><a class="headerlink" href="#psychopy.hardware.crs.bits.BitsSharp.setGamma" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the LUT to have the requested gamma value
Currently also resets the LUT to be a linear contrast
ramp spanning its full range. May change this to read
the current LUT, undo previous gamma and then apply
new one?</p>
</dd></dl>

<dl class="method">
<dt id="psychopy.hardware.crs.bits.BitsSharp.setLUT">
<code class="descname">setLUT</code><span class="sig-paren">(</span><em>newLUT=None</em>, <em>gammaCorrect=False</em>, <em>LUTrange=1.0</em>, <em>contrast=None</em><span class="sig-paren">)</span><a class="headerlink" href="#psychopy.hardware.crs.bits.BitsSharp.setLUT" title="Permalink to this definition">¶</a></dt>
<dd><p>SetLUT is only really needed for bits++ mode of bits# to set the
look-up table (256 values with 14bits each).
For the BitsPlusPlus device the deafult is to perform gamma
correction here but on the BitsSharp it seems better to have the
device perform that itself as the last step so gamma correction is
off here by default.
If no contrast has yet been set (it isn’t needed for other modes)
then it will be set to 1 here.</p>
</dd></dl>

<dl class="method">
<dt id="psychopy.hardware.crs.bits.BitsSharp.setRTBoxMode">
<code class="descname">setRTBoxMode</code><span class="sig-paren">(</span><em>mode=['CB6', 'Down', 'Trigger']</em><span class="sig-paren">)</span><a class="headerlink" href="#psychopy.hardware.crs.bits.BitsSharp.setRTBoxMode" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the RTBox mode data member - does not
actually se the RTBox into this mode.</p>
<dl class="docutils">
<dt>Example:</dt>
<dd>bits.setRTBoxMode([‘CB6’,’Down’]) # set the mode
bits.RTBoxEnable() # Enable RTBox emulation with
# the preset mode.</dd>
</dl>
<p>sets the RTBox mode settings for a CRS CB6 button box.
and for detection of ‘Down’ events only.</p>
</dd></dl>

<dl class="method">
<dt id="psychopy.hardware.crs.bits.BitsSharp.setStatusBoxMode">
<code class="descname">setStatusBoxMode</code><span class="sig-paren">(</span><em>mode=['CB6', 'Down', 'Trigger', 'Analog']</em><span class="sig-paren">)</span><a class="headerlink" href="#psychopy.hardware.crs.bits.BitsSharp.setStatusBoxMode" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the statusBox mode data member - does not
actually set the statusBox into this mode.</p>
<dl class="docutils">
<dt>Example:</dt>
<dd>bits.setStatusBoxMode([‘CB6’,’Down’]) # set the mode
bits.statusBoxEnable() # Enable status Box emulation with
# the preset mode.</dd>
</dl>
<p>sets the statusBox mode settings for a CRS CB6 button box.
and for detection of ‘Down’ events only.</p>
<p>Note that the firmware in Bits# units varies over time and some 
features of this class may not work for all firmware versions. 
Also Bits# units can be configured in various ways via their 
config.xml file so this class makes certain assumptions about the
configuration. In particular it is assumed that all digital inputs,
triggers and analog inputs are reported as part of status
updates. If some of these report are disabled in your config.xml file 
then ‘status’ and ‘event’ commands in this class may not work.</p>
</dd></dl>

<dl class="method">
<dt id="psychopy.hardware.crs.bits.BitsSharp.setStatusBoxThreshold">
<code class="descname">setStatusBoxThreshold</code><span class="sig-paren">(</span><em>threshold=None</em><span class="sig-paren">)</span><a class="headerlink" href="#psychopy.hardware.crs.bits.BitsSharp.setStatusBoxThreshold" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the threshold by which analog inputs must change to trigger a button 
press event. If None the threshold will be set very high so that no such events are
triggered.</p>
<p>Can be used to change the threshold for analog events without having to re enable the
status box system as a whole.</p>
<p>Note that the firmware in Bits# units varies over time and some 
features of this class may not work for all firmware versions. 
Also Bits# units can be configured in various ways via their 
config.xml file so this class makes certain assumptions about the
configuration. In particular it is assumed that all digital inputs,
triggers and analog inputs are reported as part of status
updates. If some of these report are disabled in your config.xml file 
then ‘status’ and ‘event’ commands in this class may not work.</p>
</dd></dl>

<dl class="method">
<dt id="psychopy.hardware.crs.bits.BitsSharp.setStatusEventParams">
<code class="descname">setStatusEventParams</code><span class="sig-paren">(</span><em>DINBase=1023, IRBase=63, TrigInBase=0, ADCBase=0, threshold=9999.99, mode=['up', 'down']</em><span class="sig-paren">)</span><a class="headerlink" href="#psychopy.hardware.crs.bits.BitsSharp.setStatusEventParams" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the parameters used to determine if a status value represents
a reportable event.</p>
<p>DIN_base = a 10 bit binary word specifying the expected starting 
values of the 10 digital input lines</p>
<p>IR_base = a 6 bit binary word specifying the expected starting 
values of the 6 CB6 IR buttons</p>
<p>Trig_base = the starting value of the Trigger input</p>
<p>mode = a list of event types to monitor can be ‘up’ or  ‘down’ 
typically ‘down’ corresponds to a button press or when the input
is being pulled down to zero volts.</p>
<dl class="docutils">
<dt>Example:</dt>
<dd><dl class="first docutils">
<dt>bits.setStatusEventParams(DINBase=0b1111111111, </dt>
<dd>IRBase=0b111111, 
TrigInBase=0, 
ADCBase=0,
threshold = 3.4,
mode = [‘down’])</dd>
</dl>
<p>bits.startStatusLog()
while not event</p>
<blockquote>
<div>#do some processing
continue</div></blockquote>
<p class="last">bits.stopStatusLog()
res=getAllStatusEvents(0)
print(bits.res.time)</p>
</dd>
</dl>
<p>This ill start the event extraction process as if DINs and IRs are all ‘1’, Trigger is ‘0’
ADCs = 0 with an ADC threshold for change of 3.4 volts,
and will only register ‘down’ events. Here we display the time stamp of the first event.</p>
<p>Note that the firmware in Display++ units varies over time and some 
features of this class may not work for all firmware versions. 
Also Display++ units can be configured in various ways via their 
config.xml file so this class makes certain assumptions about the
configuration. In particular it is assumed that all digital inputs,
triggers and analog inputs are reported as part of status
updates. If some of these report are disabled in your config.xml file 
then ‘status’ and ‘event’ commands in this class may not work.</p>
</dd></dl>

<dl class="method">
<dt id="psychopy.hardware.crs.bits.BitsSharp.setTrigger">
<code class="descname">setTrigger</code><span class="sig-paren">(</span><em>triggers=0</em>, <em>onTime=0</em>, <em>duration=0</em>, <em>mask=65535</em><span class="sig-paren">)</span><a class="headerlink" href="#psychopy.hardware.crs.bits.BitsSharp.setTrigger" title="Permalink to this definition">¶</a></dt>
<dd><p>Overaload for Bits# and Display++ that protects
the values of any analog outputs.</p>
<p>Quick way to set up triggers.</p>
<p>Triggers is a binary word that determines which 
triggers will be turned on.</p>
<p>onTime specifies the start time of the trigger within
the frame (in S with 100uS resolution)</p>
<p>Duration specifies how long the trigger will last.
(in S with 100uS resolution).</p>
<p>Note that mask only protects the digital output lines
set by other activities in the Bits. Not other triggers.</p>
<dl class="docutils">
<dt>Example: </dt>
<dd>bits.setTrigger(0b0000000010, 2.0, 4.0, 0b0111111111)
bits.startTrigger()</dd>
</dl>
<p>Will issue a 4ms long high-going pulse, 2ms after the start 
of each frame on DOUT1 while protecting the value of DOUT 9.</p>
</dd></dl>

<dl class="method">
<dt id="psychopy.hardware.crs.bits.BitsSharp.setTriggerList">
<code class="descname">setTriggerList</code><span class="sig-paren">(</span><em>triggerList=None</em>, <em>mask=65535</em><span class="sig-paren">)</span><a class="headerlink" href="#psychopy.hardware.crs.bits.BitsSharp.setTriggerList" title="Permalink to this definition">¶</a></dt>
<dd><p>Overaload of Bits# and Display++ 
Sets up Tigger pulses via the list method 
while preserving the analog outut settings.</p>
<p>Sets up Tigger pulses in Bist++ using the fine grained
method that can control every trigger line at 100uS
intervals.</p>
<p>TriggerList should contain 1 entry for every 100uS 
packet (see getPackets) the binary word in each entry 
specifies which trigger line will be active during that
time slot.</p>
<p>Note that mask only protects the digital output lines
set by other activities in the Bits. Not other triggers.</p>
<dl class="docutils">
<dt>Example:</dt>
<dd>packet = [0]*self._NumberPackets
packet[0] = 0b0000000010
bits.setTriggerList(packet)</dd>
</dl>
<p>Will sens a 100us pulse on DOUT1 at the start of the frame.</p>
<blockquote>
<div><dl class="docutils">
<dt>Example 2:</dt>
<dd>packet = [0]*self._NumberPackets
packet[10] = 0b0000000010
packet[20] = 0b0000000001
bits.setTriggerList(packet)
bits.statrtTrigger()</dd>
</dl>
</div></blockquote>
<p>Will sens a 100us pulse on DOUT1 1000us after the start of the 
frame and a second 100us pusle on DOUT0 2000us after the start of
the frame.</p>
<p>Triggers will continue until stopTrigger is called.</p>
</dd></dl>

<dl class="method">
<dt id="psychopy.hardware.crs.bits.BitsSharp.start">
<code class="descname">start</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#psychopy.hardware.crs.bits.BitsSharp.start" title="Permalink to this definition">¶</a></dt>
<dd><p>[Not currently implemented] Used to begin event collection by
the device.</p>
<p>Not really needed as other members now do this.</p>
</dd></dl>

<dl class="method">
<dt id="psychopy.hardware.crs.bits.BitsSharp.startAnalog">
<code class="descname">startAnalog</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#psychopy.hardware.crs.bits.BitsSharp.startAnalog" title="Permalink to this definition">¶</a></dt>
<dd><p>will start sending analog signals on the
next win flip and continue until stopped.</p>
<dl class="docutils">
<dt>Example:</dt>
<dd>bits.set Analog(4.5,-2.2)
bits.startAnalog()
bits.win.flip()</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="psychopy.hardware.crs.bits.BitsSharp.startGoggles">
<code class="descname">startGoggles</code><span class="sig-paren">(</span><em>left=0</em>, <em>right=1</em><span class="sig-paren">)</span><a class="headerlink" href="#psychopy.hardware.crs.bits.BitsSharp.startGoggles" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Starts CRS stereo goggles. Note if you are </dt>
<dd><p class="first">using FE-1 goggles you should start this before 
connecting the goggles.</p>
<p>Left is the state of the left shutter on the 
first frame to be presented 0, False or 
‘closed’=closed; 1, True or ‘open’ = open,</p>
<p class="last">right is the state of the right shutter on the 
first frame to be presented 0, False or</p>
</dd>
</dl>
<p>‘closed’=closed; 1, True or ‘open’ = open</p>
<p>Note you can set the goggles to be both open 
or both closed on the same frame.</p>
<p>The system will always toggle the state of 
each lens so as to not damage FE-1 goggles.</p>
<dl class="docutils">
<dt>Example:</dt>
<dd><p class="first">bits.startGoggles(0,1)
bits.win.flip()
while not response</p>
<blockquote>
<div>bits.win.flip()
#do some processing</div></blockquote>
<p class="last">bits.stopGoggles()
bits.win.flip()</p>
</dd>
</dl>
<p>Starts toggling the goggles with the right eye open in sync with the
first win.flip(0) within the loop. The open eye will alternate.</p>
<dl class="docutils">
<dt>Example:</dt>
<dd><p class="first">bits.startGoggles(1,1)
bits.win.flip()
while not response</p>
<blockquote>
<div>bits.win.flip()
#do some processing</div></blockquote>
<p class="last">bits.stopGoggles()
bits.win.flip()</p>
</dd>
</dl>
<p>Starts toggling the goggle with both eyes open in sync with the first
win.flip(0 within the loop. Eyes will alternate between both open and both closed.</p>
<p>Note it is safet to leave the goggles toggling forever, ie to never call stopGoggles().</p>
</dd></dl>

<dl class="method">
<dt id="psychopy.hardware.crs.bits.BitsSharp.startStatusLog">
<code class="descname">startStatusLog</code><span class="sig-paren">(</span><em>t=60</em><span class="sig-paren">)</span><a class="headerlink" href="#psychopy.hardware.crs.bits.BitsSharp.startStatusLog" title="Permalink to this definition">¶</a></dt>
<dd><p>Start logging data from the Bits#</p>
<blockquote>
<div><p>Starts data logging in its own tread.</p>
<p>Will run for t seconds, defrault 60 or until 
stopStatusLog() is called.</p>
</div></blockquote>
<dl class="docutils">
<dt>Example:</dt>
<dd><p class="first">bits.startStatusLog()
while not event</p>
<blockquote>
<div>#do some processing
continue</div></blockquote>
<p class="last">bits.stopStatusLog()</p>
</dd>
</dl>
<p>Note that the firmware in Bits# units varies over time and some 
features of this class may not work for all firmware versions. 
Also Bits# units can be configured in various ways via their 
config.xml file so this class makes certain assumptions about the
configuration. In particular it is assumed that all digital inputs,
triggers and analog inputs are reported as part of status
updates. If some of these report are disabled in your config.xml file 
then ‘status’ and ‘event’ commands in this class may not work.</p>
</dd></dl>

<dl class="method">
<dt id="psychopy.hardware.crs.bits.BitsSharp.startTrigger">
<code class="descname">startTrigger</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#psychopy.hardware.crs.bits.BitsSharp.startTrigger" title="Permalink to this definition">¶</a></dt>
<dd><p>Start sending triggers on the next win flip 
and continue until stopped by stopTrigger
Triggers start 1 frame after the frame on which 
the first trigger is sent.</p>
<dl class="docutils">
<dt>Example: </dt>
<dd><p class="first">bits.setTrigger(0b0000000010, 2.0, 4.0, 0b0111111111)
bits.startTrigger()
while imageOn:</p>
<blockquote>
<div>#do some processing
continue</div></blockquote>
<p class="last">bits.stopTrigger()
bits.win.flip()</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="psychopy.hardware.crs.bits.BitsSharp.statusBoxAddKeys">
<code class="descname">statusBoxAddKeys</code><span class="sig-paren">(</span><em>map</em><span class="sig-paren">)</span><a class="headerlink" href="#psychopy.hardware.crs.bits.BitsSharp.statusBoxAddKeys" title="Permalink to this definition">¶</a></dt>
<dd><p>Add key mappings to an existing map.
statusBox events can be mapped to a number of physical events on Bits#
They can be mapped to digital input lines, triggers and CB6 IR input channels.
The format for map is a list of tuples with each tuple containing the name of the 
RTBox button to be mapped and its source eg (‘btn1’,’Din1’) maps physical input Din1 to 
logical button btn1.
statusBox has 23 logical buttons (btn1-23).
Unlike RTBox buttons/events can ony be partially mapped to multiple physical inputs.
That is a logical button can be mapped to more than 1 physical input but a physical input
can onloy be mapped to 1 logical button.
So, this function over write any exisiting mappings if the physical input is the
same.</p>
<dl class="docutils">
<dt>Example:</dt>
<dd>bits.RTBoxSetKeys([(‘btn1’,’Din0),(‘btn2’,’Din1’)])
bits.RTBoxAddKeys([(‘btn1’,’IRButtonA’),((‘btn2’,’IRButtonB’)])</dd>
</dl>
<p>Will link Din0 to button 1 and Din1 to button 2.
Then adds IRButtonA and IRButtonB alongside the original mappings.</p>
<p>Now both hard wired and IR inputs will emulate the same logical button press.</p>
<p>To match with the CRS hardware description inputs are labelled as follows.</p>
<p>TrigIn, Din0 … Din9, IRButtonA … IRButtonF, AnalogIn1 … AnalogIn6</p>
<p>Logical buttons are numbered from 1 to 23.</p>
<p>Note that the firmware in Bits# units varies over time and some 
features of this class may not work for all firmware versions. 
Also Bits# units can be configured in various ways via their 
config.xml file so this class makes certain assumptions about the
configuration. In particular it is assumed that all digital inputs,
triggers and analog inputs are reported as part of status
updates. If some of these report are disabled in your config.xml file 
then ‘status’ and ‘event’ commands in this class may not work.</p>
</dd></dl>

<dl class="method">
<dt id="psychopy.hardware.crs.bits.BitsSharp.statusBoxDisable">
<code class="descname">statusBoxDisable</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#psychopy.hardware.crs.bits.BitsSharp.statusBoxDisable" title="Permalink to this definition">¶</a></dt>
<dd><p>Disables the detection of statusBox events.
This is useful to stop the Bits# from reporting key presses
When you no longer need them. And must be done befor using any
other data logging methods.</p>
<p>It undoes any button - input mappings</p>
</dd></dl>

<dl class="method">
<dt id="psychopy.hardware.crs.bits.BitsSharp.statusBoxEnable">
<code class="descname">statusBoxEnable</code><span class="sig-paren">(</span><em>mode=None</em>, <em>map=None</em>, <em>threshold=None</em><span class="sig-paren">)</span><a class="headerlink" href="#psychopy.hardware.crs.bits.BitsSharp.statusBoxEnable" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets up the stautsBox with preset or bespoke mappings 
and enables event detection.</p>
<p>stautsBox events can be mapped to a number of physical events on Bits#
They can be mapped to digital input lines, tigers and
CB6 IR input channels.</p>
<p>mode is a list of strings.
Preset mappings  provided via mode:</p>
<blockquote>
<div><p>CB6 for the CRS CB6 IR response box connected mapped to btn1-6
IO for a three button box connected to Din0-2 mapped to btn1-3
IO6 for a six button box connected to Din0-5 mapped to btn1-6
IO10 for a ten button box connected to Din0-9 mapped to btn1-10
Trigger maps the trigIn to btn17
Analog maps the 6 analog inputs on a Bits# to btn18-23</p>
<p>if CB6 and IOx are used together the Dins are mapped from btn7 onwards.</p>
</div></blockquote>
<p>If mode = None or is not set then the value of self.statusBoxMode is used.</p>
<p>Bespoke Mappings over write preset ones.</p>
<p>The format for map is a list of tuples with each tuple 
containing the name of the 
button to be mapped and its source 
eg (‘btn1’,’Din0’) maps physical input Din0 to 
logical button btn1.</p>
<p>Note the lowest number button event is Btn1</p>
<p>statusBox has 23 logical buttons (btn1-123).
Buttons/events can be mapped to multiple physical
inputs and stay mapped until reset.</p>
<p>mode is a string or list of strings that contains 
keywords to determine present mappings and modes for statusBox.</p>
<p>If mode includes ‘Down’ button events will be 
detected when pressed.
If mode includes ‘Up’ button events will be 
detected when released.
You can detect both types of event noting that the event detector
will look for transitions and ignorewhat it sees as the starting state.</p>
<p>To match with the CRS hardware description inputs are labelled as follows.</p>
<p>TrigIn, Din0 … Din9, IRButtonA … IRButtonF, AnalogIn1 … AnalogIn6</p>
<p>Logical buttons are numbered from 1 to 23.</p>
<p>threshold sets the threshold by which analog inputs must change to trigger a button 
press event. If None the threshold will be set very high so that no such events are
triggered. Analog inputs must cycle up and down by threshold to be detected as separate
events. So if only ‘Up’ events are detected the input must go up by threshold, then come
down again and then go back up to register 2 up events.</p>
<dl class="docutils">
<dt>Example: </dt>
<dd>bits.statusBoxEnable(mode = ‘Down’), map = [(‘btn1’,’Din0’), (‘btn2’,’Din1’)]</dd>
</dl>
<p>enable the stautsBox to detect Down events on buttons 1 and 2 where they are
mapped to DIN0 and DIN1.</p>
<dl class="docutils">
<dt>Example: </dt>
<dd>bits.statusBoxEnable(mode = [‘Down’,’CB6’])</dd>
</dl>
<p>enable the status Box emulation to detect Down events on the standard CB6 IR response box keys.</p>
<p>Note that the firmware in Bits# units varies over time and some 
features of this class may not work for all firmware versions. 
Also Bits# units can be configured in various ways via their 
config.xml file so this class makes certain assumptions about the
configuration. In particular it is assumed that all digital inputs,
triggers and analog inputs are reported as part of status
updates. If some of these report are disabled in your config.xml file 
then ‘status’ and ‘event’ commands in this class may not work.</p>
</dd></dl>

<dl class="method">
<dt id="psychopy.hardware.crs.bits.BitsSharp.statusBoxKeysPressed">
<code class="descname">statusBoxKeysPressed</code><span class="sig-paren">(</span><em>N=1</em><span class="sig-paren">)</span><a class="headerlink" href="#psychopy.hardware.crs.bits.BitsSharp.statusBoxKeysPressed" title="Permalink to this definition">¶</a></dt>
<dd><p>Check to see if (at least) the appropriate number 
of RTBox style key presses have been made.</p>
<dl class="docutils">
<dt>Example:</dt>
<dd>bits.statusBoxKeysPressed(5)</dd>
</dl>
<p>will return false until 5 button presses have been recored.</p>
<p>Note that the firmware in Bits# units varies over time and some 
features of this class may not work for all firmware versions. 
Also Bits# units can be configured in various ways via their 
config.xml file so this class makes certain assumptions about the
configuration. In particular it is assumed that all digital inputs,
triggers and analog inputs are reported as part of status
updates. If some of these report are disabled in your config.xml file 
then ‘status’ and ‘event’ commands in this class may not work.</p>
</dd></dl>

<dl class="method">
<dt id="psychopy.hardware.crs.bits.BitsSharp.statusBoxResetKeys">
<code class="descname">statusBoxResetKeys</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#psychopy.hardware.crs.bits.BitsSharp.statusBoxResetKeys" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="psychopy.hardware.crs.bits.BitsSharp.statusBoxSetKeys">
<code class="descname">statusBoxSetKeys</code><span class="sig-paren">(</span><em>map</em><span class="sig-paren">)</span><a class="headerlink" href="#psychopy.hardware.crs.bits.BitsSharp.statusBoxSetKeys" title="Permalink to this definition">¶</a></dt>
<dd><p>Set key mappings: first resets existing then adds new ones.
Does not reset any event that is not in the new list.
statusBox events can be mapped to a number of physical events on Bits#
They can be mapped to digital input lines, triggers and CB6 IR input channels.
The format for map is a list of tuples with each tuple containing the name of the 
RTBox button to be mapped and its source eg (‘btn1’,’Din1’) maps physical input Din1 to 
logical button btn1.</p>
<p>statusBox has 17 logical buttons (btn1-17) 
Buttons/events can be mapped to multiple physical inputs and stay mapped until reset.</p>
<dl class="docutils">
<dt>Example:</dt>
<dd>bits.RTBoxSetKeys([(‘btn1’,’Din0),(‘btn2’,’IRButtonA’)])</dd>
</dl>
<p>Will link physical Din0 to logical button 1 and IRButtonA to button 2.</p>
<p>To match with the CRS hardware description inputs are labelled as follows.</p>
<p>TrigIn, Din0 … Din9, IRButtonA … IRButtonF, AnalogIn1 … AnalogIn6</p>
<p>Logical buttons are numbered from 1 to 23.</p>
<p>Note that the firmware in Bits# units varies over time and some 
features of this class may not work for all firmware versions. 
Also Bits# units can be configured in various ways via their 
config.xml file so this class makes certain assumptions about the
configuration. In particular it is assumed that all digital inputs,
triggers and analog inputs are reported as part of status
updates. If some of these report are disabled in your config.xml file 
then ‘status’ and ‘event’ commands in this class may not work.</p>
</dd></dl>

<dl class="method">
<dt id="psychopy.hardware.crs.bits.BitsSharp.statusBoxWait">
<code class="descname">statusBoxWait</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#psychopy.hardware.crs.bits.BitsSharp.statusBoxWait" title="Permalink to this definition">¶</a></dt>
<dd><p>Waits until (at least) one 
of RTBox style key presses have been made 
Pauses program execution in mean time.</p>
<dl class="docutils">
<dt>Example:</dt>
<dd>res = bits.statusBoxWait()</dd>
</dl>
<p>will suspend all other activity until 1 button press has been
recorded and will then return a dict / strcuture containing results.</p>
<p>Results can be accessed as follows:</p>
<dl class="docutils">
<dt>structure</dt>
<dd>res.dir, res.button, res.time</dd>
<dt>or dictionary</dt>
<dd>res[‘dir’], res[‘button’], res[‘time’]</dd>
</dl>
<p>Note that the firmware in Bits# units varies over time and some 
features of this class may not work for all firmware versions. 
Also DBits# units can be configured in various ways via their 
config.xml file so this class makes certain assumptions about the
configuration. In particular it is assumed that all digital inputs,
triggers and analog inputs are reported as part of status
updates. If some of these report are disabled in your config.xml file 
then ‘status’ and ‘event’ commands in this class may not work.</p>
</dd></dl>

<dl class="method">
<dt id="psychopy.hardware.crs.bits.BitsSharp.statusBoxWaitN">
<code class="descname">statusBoxWaitN</code><span class="sig-paren">(</span><em>N=1</em><span class="sig-paren">)</span><a class="headerlink" href="#psychopy.hardware.crs.bits.BitsSharp.statusBoxWaitN" title="Permalink to this definition">¶</a></dt>
<dd><p>Waits until (at least) the appropriate number 
of RTBox style key presses have been made 
Pauses program execution in mean time.</p>
<dl class="docutils">
<dt>Example:</dt>
<dd>res = bits.statusBoxWaitN(5)</dd>
</dl>
<p>will suspend all other activity until 5 button presses have been
recorded and will then return a list of Dicts containing the 5 results.</p>
<p>Results can be accessed as follows:</p>
<dl class="docutils">
<dt>structure</dt>
<dd>res[0].dir, res[0].button, res[0].time</dd>
<dt>or dictionary</dt>
<dd>res[0][‘dir’], res[0][‘button’], res[0][‘time’]</dd>
</dl>
<p>Note that the firmware in Bits# units varies over time and some 
features of this class may not work for all firmware versions. 
Also Bits# units can be configured in various ways via their 
config.xml file so this class makes certain assumptions about the
configuration. In particular it is assumed that all digital inputs,
triggers and analog inputs are reported as part of status
updates. If some of these report are disabled in your config.xml file 
then ‘status’ and ‘event’ commands in this class may not work.</p>
</dd></dl>

<dl class="method">
<dt id="psychopy.hardware.crs.bits.BitsSharp.stop">
<code class="descname">stop</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#psychopy.hardware.crs.bits.BitsSharp.stop" title="Permalink to this definition">¶</a></dt>
<dd><p>[Not currently implemented] Used to stop event collection by
the device.</p>
<p>Not really needed as other members now do this.</p>
</dd></dl>

<dl class="method">
<dt id="psychopy.hardware.crs.bits.BitsSharp.stopAnalog">
<code class="descname">stopAnalog</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#psychopy.hardware.crs.bits.BitsSharp.stopAnalog" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>will stop sending analogs signals at the next win flip.</dt>
<dd>Example:</dd>
</dl>
<p>bits.set Analog(4.5,-2.2)
bits.startAnalog()
bits.win.flip()
while not response:</p>
<blockquote>
<div>#do some processing.
bits.win.flip()</div></blockquote>
<p>bits.stopAnalog()
bits.win.flip()</p>
</dd></dl>

<dl class="method">
<dt id="psychopy.hardware.crs.bits.BitsSharp.stopGoggles">
<code class="descname">stopGoggles</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#psychopy.hardware.crs.bits.BitsSharp.stopGoggles" title="Permalink to this definition">¶</a></dt>
<dd><p>Stop the stereo goggles from toggling</p>
<dl class="docutils">
<dt>Example:</dt>
<dd><p class="first">bits.startGoggles(0,1)
bits.win.flip()
while not response</p>
<blockquote>
<div>bits.win.flip()
#do some processing</div></blockquote>
<p class="last">bits.stopGoggles()
bits.win.flip()</p>
</dd>
</dl>
<p>Starts toggling the goggles with the right eye open in sync with the
first win.flip(0) within the loop. The open eye will alternate.</p>
<p>Note it is safer to leave the goggles toggling forever, ie to never call stopGoggles().</p>
</dd></dl>

<dl class="method">
<dt id="psychopy.hardware.crs.bits.BitsSharp.stopStatusLog">
<code class="descname">stopStatusLog</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#psychopy.hardware.crs.bits.BitsSharp.stopStatusLog" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Stop logging data from the Bits#</dt>
<dd><p class="first">and extracts the raw status values and significant events and puts them
in statusValues and statusEvents.</p>
<p>statusValues will end up containing 
dict like objects of the following style:</p>
<blockquote>
<div>sample, time, trigIn, DIN[10], DWORD, IR[6], ADC[6]</div></blockquote>
<p>They can be accessed as statusValues[i][‘sample’] or 
statusValues[i].sample, statusValues[x].ADC[j].</p>
<p>StatusEvents will end up containing dict like objects of
the following style:</p>
<blockquote>
<div>source, input, direction, time.</div></blockquote>
<p>The data can be accessed as statusEvents[i][‘time’] or statusEvents[i].time</p>
<p class="last">Waits for _statusLog to finish properly 
so can introduce a timing delay.</p>
</dd>
<dt>Example:</dt>
<dd><p class="first">bits.startStatusLog()
while not event</p>
<blockquote>
<div>#do some processing
continue</div></blockquote>
<p>bits.stopStatusLog()
print(bits.statusValues[0].time)
print(bits.statusEvents[0].time)</p>
<p class="last">Will display the time stamps of the first starus value recored and the first
meaningful event.</p>
</dd>
</dl>
<p>Note that the firmware in Bits# units varies over time and some 
features of this class may not work for all firmware versions. 
Also Bits# units can be configured in various ways via their 
config.xml file so this class makes certain assumptions about the
configuration. In particular it is assumed that all digital inputs,
triggers and analog inputs are reported as part of status
updates. If some of these report are disabled in your config.xml file 
then ‘status’ and ‘event’ commands in this class may not work.</p>
</dd></dl>

<dl class="method">
<dt id="psychopy.hardware.crs.bits.BitsSharp.stopTrigger">
<code class="descname">stopTrigger</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#psychopy.hardware.crs.bits.BitsSharp.stopTrigger" title="Permalink to this definition">¶</a></dt>
<dd><p>Stop sending triggers at the next win flip.</p>
<dl class="docutils">
<dt>Example: </dt>
<dd><p class="first">bits.setTrigger(0b0000000010, 2.0, 4.0, 0b0111111111)
bits.startTrigger()
while imageOn:</p>
<blockquote>
<div>#do some processing
continue</div></blockquote>
<p class="last">bits.stopTrigger()
bits.win.flip()</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="psychopy.hardware.crs.bits.BitsSharp.syncClocks">
<code class="descname">syncClocks</code><span class="sig-paren">(</span><em>t</em><span class="sig-paren">)</span><a class="headerlink" href="#psychopy.hardware.crs.bits.BitsSharp.syncClocks" title="Permalink to this definition">¶</a></dt>
<dd><p>Synchronise the Bits/RTBox Clock with the host clock 
Given by t.</p>
</dd></dl>

<dl class="attribute">
<dt id="psychopy.hardware.crs.bits.BitsSharp.temporalDithering">
<code class="descname">temporalDithering</code><a class="headerlink" href="#psychopy.hardware.crs.bits.BitsSharp.temporalDithering" title="Permalink to this definition">¶</a></dt>
<dd><p>Temporal dithering can be set to True or False</p>
</dd></dl>

<dl class="attribute">
<dt id="psychopy.hardware.crs.bits.BitsSharp.win">
<code class="descname">win</code><a class="headerlink" href="#psychopy.hardware.crs.bits.BitsSharp.win" title="Permalink to this definition">¶</a></dt>
<dd><p>The window that this box is attached to</p>
</dd></dl>

</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>

      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="ColorCAL.html" title="ColorCAL"
             >next</a> |</li>
        <li class="right" >
          <a href="BitsPlusPlus.html" title="BitsPlusPlus"
             >previous</a> |</li>
        <li><a href="../../../index.html">PsychoPy</a> &raquo;</li>
          <li><a href="../../../documentation.html" >Documentation</a> &raquo;</li>
          <li><a href="../../api.html" >Reference Manual (API)</a> &raquo;</li>
          <li><a href="../../hardware.html" ><code class="docutils literal notranslate"><span class="pre">psychopy.hardware</span></code> - hardware interfaces</a> &raquo;</li>
          <li><a href="../crs.html" >Cambridge Research Systems Ltd.</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
      &copy; Copyright 2018, Jonathan Peirce.
      Last updated on Jul 25, 2018.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.7.0.
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-4089651-2', 'auto');
      ga('send', 'pageview');

    </script>

    <script type="text/javascript" src="http://www.ohloh.net/p/17081/widgets/project_partner_badge.js"></script>
    </div>
  </body>
</html>